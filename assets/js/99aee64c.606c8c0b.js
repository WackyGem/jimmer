"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[5727],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>d});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var m=n.createContext({}),c=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},s=function(e){var t=c(e.components);return n.createElement(m.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,o=e.originalType,m=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),p=c(a),d=l,h=p["".concat(m,".").concat(d)]||p[d]||u[d]||o;return a?n.createElement(h,r(r({ref:t},s),{},{components:a})):n.createElement(h,r({ref:t},s))}));function d(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=a.length,r=new Array(o);r[0]=p;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i.mdxType="string"==typeof e?e:l,r[1]=i;for(var c=2;c<o;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},72882:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(83117),l=a(80102),o=a(67294),r=a(93680),i=a(94780),m=a(71657),c=a(90948),s=a(1588),u=a(34867);function p(e){return(0,u.Z)("MuiTableContainer",e)}(0,s.Z)("MuiTableContainer",["root"]);var d=a(85893);const h=["className","component"],k=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),b=o.forwardRef((function(e,t){const a=(0,m.Z)({props:e,name:"MuiTableContainer"}),{className:o,component:c="div"}=a,s=(0,l.Z)(a,h),u=(0,n.Z)({},a,{component:c}),b=(e=>{const{classes:t}=e;return(0,i.Z)({root:["root"]},p,t)})(u);return(0,d.jsx)(k,(0,n.Z)({ref:t,as:c,className:(0,r.Z)(b.root,o),ownerState:u},s))}))},82276:(e,t,a)=>{a.d(t,{P:()=>k,Zq:()=>b,x7:()=>f});var n=a(83117),l=a(67294),o=a(39511),r=a(90629),i=a(7906),m=a(295),c=a(53252),s=a(72882),u=a(53184),p=a(53816),d=a(53143),h=a(32102);const k=(0,l.memo)((()=>(0,d.S)()?l.createElement(o.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u7f13\u5b58\u4e00\u81f4\u6027",variant:"outlined"},y):l.createElement(o.b,{buttonText:"A Brief Introduction",title:"Cache Consistency",variant:"outlined"},v))),b=(0,l.memo)((e=>(0,d.S)()?l.createElement(h.s,(0,n.Z)({title:"\u7f13\u5b58\u4e00\u81f4\u6027"},e),y):l.createElement(h.s,(0,n.Z)({title:"Cache Consistency"},e),v))),f=(0,l.memo)((()=>(0,d.S)()?y:v)),g=a(94233).Z,y=l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("img",{src:g})),l.createElement("p",null,l.createElement("b",null,"\u5de6\u4fa7"),"\uff1a\u4fee\u6539\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\uff0c\u5c06",l.createElement("code",null,"Book-10"),"\u7684\u5916\u5efa\u5b57\u6bb5",l.createElement("code",null,"STORE_ID"),"\u4ece",l.createElement("code",null,"2"),"\u4fee\u6539\u4e3a",l.createElement("code",null,"1")),l.createElement("p",null,l.createElement("b",null,"\u53f3\u4fa7"),"\uff1a\u6b64\u4e3e\u4f1a\u5bfc\u81f4\u8fde\u9501\u53cd\u5e94\uff0cJimmer\u4f1a\u81ea\u52a8\u6e05\u7406\u6240\u6709\u53d7\u5f71\u54cd\u7684\u7f13\u5b58\uff0c\u6e05\u7406\u7f13\u5b58\u7684\u52a8\u4f5c\u4f1a\u5728IDE\u4e2d\u7559\u4e0b\u65e5\u5fd7\u8bb0\u5f55",l.createElement("div",{style:{padding:"1rem",marginLeft:"2rem"}},l.createElement(s.Z,{component:r.Z},l.createElement(i.Z,null,l.createElement(u.Z,null,l.createElement(p.Z,null,l.createElement(c.Z,null,"\u88ab\u6e05\u7406\u7684\u7f13\u5b58\u540d"),l.createElement(c.Z,null,l.createElement("span",{style:{whiteSpace:"nowrap"}},"\u7f13\u5b58\u7c7b\u578b")),l.createElement(c.Z,null,"\u63cf\u8ff0"))),l.createElement(m.Z,null,l.createElement(p.Z,null,l.createElement(c.Z,null,"Book-10"),l.createElement(c.Z,null,"\u5bf9\u8c61\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u88ab\u4fee\u6539\u7684\u4e66\u7c4d",l.createElement("code",null,"Book-10"),"\u800c\u8a00\uff0c\u5176\u5bf9\u8c61\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"Book.store-10"),l.createElement(c.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u88ab\u4fee\u6539\u7684\u4e66\u7c4d",l.createElement("code",null,"Book-10"),"\u800c\u8a00\uff0c\u5176many-to-one\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"Book.store"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.books-2"),l.createElement(c.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176one-to-many\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"BookStore.books"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,{style:{whiteSpace:"nowrap"}},"BookStore.newestBooks-2"),l.createElement(c.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176\u5173\u8054\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.newestBooks"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.avgPrice-2"),l.createElement(c.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176\u5173\u7edf\u8ba1\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.avgPrice"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.books-1"),l.createElement(c.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176one-to-many\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"BookStore.books"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.newestBooks-1"),l.createElement(c.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176\u5173\u8054\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.newestBooks"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.avgPrice-1"),l.createElement(c.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(c.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176\u5173\u7edf\u8ba1\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.avgPrice"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")))))))),v=l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("img",{src:g})),l.createElement("p",null,l.createElement("b",null,"Left side"),": modify the data in the database, udpate the foreign key ",l.createElement("code",null,"STORE_ID")," of ",l.createElement("code",null,"Book-10")," from ",l.createElement("code",null,"2")," to ",l.createElement("code",null,"1")),l.createElement("p",null,l.createElement("b",null,"Right side"),": This action will cause a chain reaction, jimmer will automatically clean up all affected caches, and the actions of cleaning the cache will leave log records in the IDE",l.createElement("div",{style:{padding:"1rem",marginLeft:"2rem"}},l.createElement(s.Z,{component:r.Z},l.createElement(i.Z,null,l.createElement(u.Z,null,l.createElement(p.Z,null,l.createElement(c.Z,null,"The name of the cache to be cleared"),l.createElement(c.Z,null,l.createElement("span",{style:{whiteSpace:"nowrap"}},"cache type")),l.createElement(c.Z,null,"describe"))),l.createElement(m.Z,null,l.createElement(p.Z,null,l.createElement(c.Z,null,"Book-10"),l.createElement(c.Z,null,"Object Cache"),l.createElement(c.Z,null,"For the modified book ",l.createElement("code",null,"Book-10"),", its object cache is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"Book.store-10"),l.createElement(c.Z,null,"Association cache"),l.createElement(c.Z,null,"For the modified book ",l.createElement("code",null,"Book-10"),", the cache corresponding to the many-to-one association property ",l.createElement("code",null,"Book.store")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.books-2"),l.createElement(c.Z,null,"Association cache"),l.createElement(c.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to its one-to-many association property ",l.createElement("code",null,"BookStore.books")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,{style:{whiteSpace:"nowrap"}},"BookStore.newestBooks-2"),l.createElement(c.Z,null,"Calculated cache"),l.createElement(c.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to the associated calculated property ",l.createElement("code",null,"BookStore.newestBooks")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.avgPrice-2"),l.createElement(c.Z,null,"Calculated cache"),l.createElement(c.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to the statistical calculated property ",l.createElement("code",null,"BookStore.avgPrice")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.books-1"),l.createElement(c.Z,null,"Association cache"),l.createElement(c.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to its one-to-many association property ",l.createElement("code",null,"BookStore.books")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.newestBooks-1"),l.createElement(c.Z,null,"Calculated cache"),l.createElement(c.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to the associated calculated property ",l.createElement("code",null,"BookStore.newestBooks")," is invalid")),l.createElement(p.Z,null,l.createElement(c.Z,null,"BookStore.avgPrice-1"),l.createElement(c.Z,null,"Calculated cache"),l.createElement(c.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to the statistical calculated property ",l.createElement("code",null,"BookStore.avgPrice")," is invalid"))))))))},32102:(e,t,a)=>{a.d(t,{s:()=>k});var n=a(83117),l=a(67294),o=a(50657),r=a(42293),i=a(10155),m=a(15861),c=a(6514),s=a(54776),u=a(93946),p=a(9137),d=a(61274),h=a(50594);const k=(0,l.memo)((e=>{let{open:t,fullScreen:a=!1,title:n,onClose:s,children:k}=e;const[f,g]=(0,l.useState)(a),y=(0,l.useCallback)((()=>{g((e=>!e))}),[]);return l.createElement(o.Z,{open:t,onClose:s,fullScreen:f,TransitionComponent:b,maxWidth:"md"},l.createElement(r.Z,{sx:{position:"relative"}},l.createElement(i.Z,null,l.createElement(m.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},n),l.createElement(u.Z,{onClick:y,style:{color:"white"}},f?l.createElement(d.Z,null):l.createElement(p.Z,null)),l.createElement(u.Z,{"aria-label":"close",onClick:s,style:{color:"white"}},l.createElement(h.Z,null)))),l.createElement(c.Z,null,k))})),b=l.forwardRef((function(e,t){return l.createElement(s.Z,(0,n.Z)({direction:"up",ref:t},e))}))},39511:(e,t,a)=>{a.d(t,{b:()=>r});var n=a(83321),l=a(67294),o=a(32102);const r=(0,l.memo)((e=>{let{buttonText:t,fullScreen:a=!1,title:r=t,variant:i="contained",children:m}=e;const[c,s]=(0,l.useState)(!1),u=(0,l.useCallback)((()=>{s(!0)}),[]),p=(0,l.useCallback)((()=>{s(!1)}),[]);return l.createElement(l.Fragment,null,l.createElement(n.Z,{onClick:u,variant:i,size:"outlined"==i?"small":"medium"},t),l.createElement(o.s,{open:c,onClose:p,title:r,fullScreen:a},m))}))},53143:(e,t,a)=>{a.d(t,{S:()=>l});var n=a(52263);function l(){const{i18n:e}=(0,n.Z)(),t=e.currentLocale;return"zh"===t||"zh_cn"===t||"zh_CN"==t}},47544:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>m,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var n=a(83117),l=(a(67294),a(3905)),o=a(39511),r=a(82276);const i={sidebar_position:2,title:"Standard example"},m=void 0,c={unversionedId:"overview/standard-demo",id:"overview/standard-demo",title:"Standard example",description:"The original low-quality documentation is being completely rewritten and will eventually become high-quality documentation.",source:"@site/docs/overview/standard-demo.mdx",sourceDirName:"overview",slug:"/overview/standard-demo",permalink:"/jimmer/docs/overview/standard-demo",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer/tree/main/doc/docs/overview/standard-demo.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Standard example"},sidebar:"tutorialSidebar",previous:{title:"Project Introduction",permalink:"/jimmer/docs/overview/introduction"},next:{title:"\u5feb\u901f\u4e0a\u624b",permalink:"/jimmer/docs/overview/get-started/"}},s={},u=[{value:"Be aware beforehand",id:"be-aware-beforehand",level:2},{value:"Example introduction",id:"example-introduction",level:2},{value:"Non-cached mode",id:"non-cached-mode",level:2},{value:"Cache mode",id:"cache-mode",level:2},{value:"Maxwell + MySQL",id:"maxwell--mysql",level:3},{value:"Debezium + Postgres",id:"debezium--postgres",level:3},{value:"Notes",id:"notes",level:2}],p={toc:u};function d(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"The original low-quality documentation is being completely rewritten and will eventually become high-quality documentation."),(0,l.kt)("p",{parentName:"admonition"},"However, after several months of hard work, only the Chinese part of the rewriting work has been completed, and the re-translation of the English document has not yet been completed."),(0,l.kt)("p",{parentName:"admonition"},"Now that the translation of English documents has only started, we will speed up the translation process. Before that, you can read ",(0,l.kt)("a",{parentName:"p",href:"../old-en"},"Old english document"))),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"Running the example that comes with the framework directly is the most efficient way to familiarize yourself with Jimmer.")),(0,l.kt)("h2",{id:"be-aware-beforehand"},"Be aware beforehand"),(0,l.kt)("p",null,"Like strongly typed SQL DSL implementations such as ",(0,l.kt)("a",{parentName:"p",href:"https://www.jooq.org/"},"JOOQ"),",",(0,l.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html"},"JPA2.0 Criteria"),",",(0,l.kt)("a",{parentName:"p",href:"http://querydsl.com/"},"QueryDSL"),",",(0,l.kt)("a",{parentName:"p",href:"https://github.com/mybatis-flex/mybatis-flex"},"MyBatis-Flex"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/atool/fluent-mybatis"},"Fluent-MyBatis"),", Jimmer needs to generate more source code based on user code."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"In the case of Java, it's the annotation processor"),(0,l.kt)("li",{parentName:"ul"},"In the case of Kotlin, it is KSP")),(0,l.kt)("p",null,"When user opens the a demo project for the first time using an IDE (such as Intellij), he will find that some classes that should have been automatically generated do not exist."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Don't be afraid at this time, click the run button and all errors will disappear automatically.")),(0,l.kt)("h2",{id:"example-introduction"},"Example introduction"),(0,l.kt)("p",null,"Jimmer provides supporting examples that are very helpful for quickly mastering Jimmer"),(0,l.kt)("p",null,"General directory of all examples: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example"},"https://github.com/babyfish-ct/jimmer/tree/main/example")),(0,l.kt)("p",null,"The project provides 5 examples, each with two versions, Java and Kotlin, for a total of 10 examples."),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("th",null,"Java"),(0,l.kt)("th",null,"Kotlin"),(0,l.kt)("th",null,"Description"),(0,l.kt)("th",null,"How to run"),(0,l.kt)("th",null,"importance")),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-core"},"java/jimmer-core")),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-core-kt"},"java/jimmer-core-kt")),(0,l.kt)("td",null,"ORM agnostic example showing ",(0,l.kt)("a",{href:"https://github.com/immerjs/immer"},"immer"),"-style immutable object"),(0,l.kt)("td",null,"Execute main method"),(0,l.kt)("td",null,"\u2605\u2605\u2605\u2605")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-sql"},"java/jimmer-sql")),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-sql-kt"},"java/jimmer-sql-kt")),(0,l.kt)("td",null,"Leverage Jimmer to build REST services quickly. This example shows most of Jimmer's features and is the most important and basic example"),(0,l.kt)("td",null,(0,l.kt)("ol",null,(0,l.kt)("li",null,"Execute main method"),(0,l.kt)("li",null,"Access swagger page: http://localhost:8080/ui"),(0,l.kt)("li",null,"Download TypeScript code\uff1ahttp://localhost:8080/ts.zip"))),(0,l.kt)("td",null,"\u2605\u2605\u2605\u2605\u2605")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-sql-graphql"},"java/jimmer-sql-graphql")),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-sql-graphql-kt"},"java/jimmer-sql-graphql-kt")),(0,l.kt)("td",null,"Leverage Jimmer to quickly build GraphQL services"),(0,l.kt)("td",null,(0,l.kt)("ol",null,(0,l.kt)("li",null,"Execute main method"),(0,l.kt)("li",null,"Access the UI of Graph",(0,l.kt)("b",null,"i"),"QL\u754c\u9762: http://localhost:8080/graph",(0,l.kt)("b",null,"i"),"ql"))),(0,l.kt)("td",null,"\u2605\u2605")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-cloud"},"java/jimmer-cloud")),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-cloud-kt"},"java/jimmer-cloud-kt")),(0,l.kt)("td",null,"Spring Cloud-based microservices project that showcases jimmer's remote association"),(0,l.kt)("td",null,(0,l.kt)("ol",null,(0,l.kt)("li",null,"Start the registry-center, run the main method of the registry-center subproject"),(0,l.kt)("li",null,"Start all microservices, run the main method in store-service, book-service, and author-service"),(0,l.kt)("li",null,"Wait about half a minute to ensure that the registry-center correctly identifies all microservices and avoid exceptions that some swagger calls in the next step do not recognize the remote service. "),(0,l.kt)("li",null,"Access swagger-ui for any of the following microservices",(0,l.kt)("ul",null,(0,l.kt)("li",null,"store-service: http://localhost:7001/ui"),(0,l.kt)("li",null,"book-service: http://localhost:7002/ui"),(0,l.kt)("li",null,"author-service: http://localhost:7003/ui"))))),(0,l.kt)("td",null,"\u2605")),(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/save-command"},"java/save-command")),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/save-command-kt"},"kotlin/save-command-kt")),(0,l.kt)("td",null,"Specific example for save command"),(0,l.kt)("td",null,"Run all unit test cases"),(0,l.kt)("td",null,"\u2605\u2605\u2605")))),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"The most important example to get started with is ",(0,l.kt)("inlineCode",{parentName:"p"},"jimer-sql"),", and you can open either of these two examples according to your language preference"),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Java"),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-sql"},"example/java/jimmer-sql"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Kotlin"),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-sql-kt"},"example/join/jimmer-sql-kt"))))),(0,l.kt)("h2",{id:"non-cached-mode"},"Non-cached mode"),(0,l.kt)("p",null,"Non-cached mode is the default operation mode for all examples, and all examples can be run directly without installing any external environment."),(0,l.kt)("p",null,"If an example depends on a database, it uses H2 memory data in non-cached mode and automatically creates the database at startup time."),(0,l.kt)("p",null,"As you can see, the non-cached mode is very simple and great for quickly familiarizing yourself with the example."),(0,l.kt)("h2",{id:"cache-mode"},"Cache mode"),(0,l.kt)("p",null,"The above 10 accompanying examples are presented, of which 4 can demonstrate Jimmer's caching and its consistency guarantees."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-sql"},"java/jimmer-sql"),"\u548c\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-sql-kt"},"kotlin/jimmer-sql-kt"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/java/jimmer-sql-graphql"},"java/jimmer-sql-graphql"),"\u548c\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/tree/main/example/kotlin/jimmer-sql-graphql-kt"},"kotlin/jimmer-sql-graphql-kt")))),(0,l.kt)("p",null,"By default, they do not use caching, run on an in-memory database and automatically initialize the database, which guarantees that there is no need to install any external environment, click the run button and demonstrate."),(0,l.kt)("p",null,"You can also have them start in cached mode, just run application with the spring-boot profile ",(0,l.kt)("inlineCode",{parentName:"p"},"maxwell")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"debezium"),"."),(0,l.kt)("p",null,"These two spring profiles utilize the CDC push capabilities of ","[maxwell]"," (",(0,l.kt)("a",{parentName:"p",href:"https://maxwells-daemon.io/"},"https://maxwells-daemon.io/"),") or ","[debezium]"," (",(0,l.kt)("a",{parentName:"p",href:"https://debezium.io/"},"https://debezium.io/"),") to achieve ",(0,l.kt)(o.b,{buttonText:"Cache coherency",variant:"text",mdxType:"ViewMore"},(0,l.kt)(r.x7,{mdxType:"CacheConsistencyPanel"})),", therefore, you need to install an external environment."),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"In fact, using CDC push services such as ",(0,l.kt)("a",{parentName:"p",href:"https://maxwells-daemon.io/"},"maxwell")," or ",(0,l.kt)("a",{parentName:"p",href:"https://debezium.io/"},"debezium")," is not a the only way that can maintain the ",(0,l.kt)(o.b,{buttonText:"cache consistency",variant:"text",mdxType:"ViewMore"},"CacheConsistencyPanel"),", Jimmer can do this is without the help of any outside technology."),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Jimmer's own ability to capture changes of database is called ",(0,l.kt)("inlineCode",{parentName:"p"},"TransactionTrigger"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"The ability to push database changes to jimmer through external CDC technology is called ",(0,l.kt)("inlineCode",{parentName:"p"},"BinLogTrigger")))),(0,l.kt)("p",{parentName:"admonition"},"See ","[Trigger type]","(.. /mutation/trigger#\u89e6\u53d1\u5668\u7c7b\u578b)."),(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"BinLogTrigger")," has both better performance and better universality ",(0,l.kt)("em",{parentName:"p"},"(even if you bypass the API of the Jimmer to modify the database, you can modify the database in other ways, such as directly using the SQL IDE to modify the data, it can also be intercepted)"),", which is the recommended solution."),(0,l.kt)("p",{parentName:"admonition"},"So, while the ",(0,l.kt)("inlineCode",{parentName:"p"},"TransactionTrigger")," can be implemented without any special external environment",(0,l.kt)(o.b,{buttonText:"cache coherency",variant:"text",mdxType:"ViewMore"},(0,l.kt)(r.x7,{mdxType:"CacheConsistencyPanel"})),"\uff0c\nHowever, the official side example still uses the ",(0,l.kt)("inlineCode",{parentName:"p"},"BinLogTrigger")," to synchronize the cache, which is the more recommended way."),(0,l.kt)("p",{parentName:"admonition"},"So, we need to set up CDC services like maxwell or debezium to push database changes to jimmer.")),(0,l.kt)("p",null,"Enabling cached mode requires setting up an external environment."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"First, you need to install docker locally")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Install the external environment"))),(0,l.kt)("p",null,"The accompanying example supports two external environments, and you can choose one way to experience the ",(0,l.kt)(o.b,{buttonText:"cache coherency",variant:"text",mdxType:"ViewMore"},(0,l.kt)(r.x7,{mdxType:"CacheConsistencyPanel"}))),(0,l.kt)("h3",{id:"maxwell--mysql"},"Maxwell + MySQL"),(0,l.kt)("p",null,"Although ",(0,l.kt)("a",{parentName:"p",href:"https://maxwells-daemon.io/"},"maxwell")," only supports MySQL, it is the simplest of all database change push techniques. Therefore, there is a demonstration value."),(0,l.kt)("p",null,"Open the command line, change to the local directory corresponding to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/env-with-cache/maxwell"},"example/env-with-cache/maxwell"),", and execute"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"bash ./install.sh\n")),(0,l.kt)("p",null,"After the installation is complete, the port occupation of the docker host is enabled as follows"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Container"),(0,l.kt)("th",{parentName:"tr",align:null},"Port"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-zookeeper"),(0,l.kt)("td",{parentName:"tr",align:null},"4000"),(0,l.kt)("td",{parentName:"tr",align:null},"Support Kafka, users will not use it directly")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-kafka"),(0,l.kt)("td",{parentName:"tr",align:null},"4100"),(0,l.kt)("td",{parentName:"tr",align:null},"The exposed address is localhost, i.e., assuming that the docker host is your local mechine. If you want to use a remote server as the docker host, you need to modify the kafka installation command in the install.sh and modify the spring-boot configuration file in the example")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-kafdrop"),(0,l.kt)("td",{parentName:"tr",align:null},"4101"),(0,l.kt)("td",{parentName:"tr",align:null},"A Kafka graphical interface tool that can be accessed with a browser http://localhost:4101")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-mysql"),(0,l.kt)("td",{parentName:"tr",align:null},"4200"),(0,l.kt)("td",{parentName:"tr",align:null},"Database service in this mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-maxwell"),(0,l.kt)("td",{parentName:"tr",align:null},"NA"),(0,l.kt)("td",{parentName:"tr",align:null},"Responsible for pushing MySQL change events to Kafka's background service")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"maxwell-demo-redis"),(0,l.kt)("td",{parentName:"tr",align:null},"4400"),(0,l.kt)("td",{parentName:"tr",align:null},"Cache service in this mode")))),(0,l.kt)("h3",{id:"debezium--postgres"},"Debezium + Postgres"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://debezium.io/"},"Debezium")," supports for many kinds of databases, with good commonality, examples use it to support postgres CDC."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Postgres is a very good open source database. If your project is brand new and doesn't have any historical baggage, consider trying Postgres. This is also why Jimmer's example uses debezium to support Postgres.")),(0,l.kt)("p",null,"Open the command line, change to the local directory corresponding to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/babyfish-ct/jimmer/blob/main/example/env-with-cache/debezium"},"example/env-with-cache/debezium"),", and execute"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"bash ./install.sh\n")),(0,l.kt)("p",null,"After the installation is complete, the port occupation of the docker host is enabled as follows"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Container"),(0,l.kt)("th",{parentName:"tr",align:null},"Port"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-zookeeper"),(0,l.kt)("td",{parentName:"tr",align:null},"5000"),(0,l.kt)("td",{parentName:"tr",align:null},"Support Kafka, users will not use it directly")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-kafka"),(0,l.kt)("td",{parentName:"tr",align:null},"5100"),(0,l.kt)("td",{parentName:"tr",align:null},"The exposed address is localhost, i.e., assuming that the docker host is your local mechine. If you want to use a remote server as the docker host, you need to modify the kafka installation command in the install.sh and modify the spring-boot configuration file in the example")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-kafdrop"),(0,l.kt)("td",{parentName:"tr",align:null},"5101"),(0,l.kt)("td",{parentName:"tr",align:null},"A Kafka graphical interface tool that can be accessed with a browser http://localhost:5101")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-postgres"),(0,l.kt)("td",{parentName:"tr",align:null},"5200"),(0,l.kt)("td",{parentName:"tr",align:null},"Database service in this mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-connect"),(0,l.kt)("td",{parentName:"tr",align:null},"5300"),(0,l.kt)("td",{parentName:"tr",align:null},"The kafka-connector, which is responsible for pushing postgres change events to Kafka, can check whether the pg-connector named ",(0,l.kt)("inlineCode",{parentName:"td"},"debezium-connector")," is successfully installed by http://localhost:5300/connectors")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"debezium-demo-redis"),(0,l.kt)("td",{parentName:"tr",align:null},"5400"),(0,l.kt)("td",{parentName:"tr",align:null},"Cache service in this mode")))),(0,l.kt)("h2",{id:"notes"},"Notes"),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"If you install the external environment of ",(0,l.kt)("inlineCode",{parentName:"p"},"Maxwell + MySQL")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Debezium + Postgres"),", some containers may not be started due to insufficient memory."),(0,l.kt)("p",{parentName:"admonition"},"Take my Mac as an example, by default, the Mac allocates 2GB of memory for docker, installs and starts all the above containers, plus several other containers that have nothing to do with it, resulting in insufficient memory, set to 3GB after the problem is solved.")))}d.isMDXComponent=!0},94233:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/consistency-533dc48b0d9b3500ad8b64960045b6da.jpg"}}]);