"use strict";(self.webpackChunkdocusaurus_code=self.webpackChunkdocusaurus_code||[]).push([[8385],{32360:(e,t,a)=>{a.d(t,{L:()=>E});var n=a(67294),l=a(63012),r=a(7906),o=a(295),i=a(53252),c=a(53184),s=a(53816),m=a(65488),u=a(85162),d=a(53457),p=a(50480),h=a(85071),f=a(67720);const E=e=>{let{type:t,locale:a}=e;const[l,r]=(0,n.useState)("OPS"!==t),o=(0,n.useCallback)(((e,t)=>{r(t)}),[]);return n.createElement(m.Z,{groupId:"chart-mode"},n.createElement(u.Z,{value:"chart",label:"zh"===a?"\u56fe\u8868":"Chart",default:!0},"OPS"===t&&n.createElement(n.Fragment,null,n.createElement(d.Z,null,n.createElement(p.Z,{control:n.createElement(h.Z,{value:l,onChange:o}),label:"zh"===a?"\u663e\u793a\u539f\u751fJDBC\u6307\u6807":"Show native JDBC metrics"})),n.createElement(f.Z,null)),"OPS"==t?n.createElement(y,{rows:w,scale:k,showJdbc:l}):n.createElement(y,{rows:C,scale:v,showJdbc:l})),n.createElement(u.Z,{value:"data",label:"zh"===a?"\u6570\u636e":"Data"},"OPS"===t?n.createElement(b,{rows:x,valueTitle:"Ops/s"}):n.createElement(b,{rows:T,valueTitle:"Time(\u03bcs)"})))},y=e=>{let{rows:t,scale:a,showJdbc:r}=e;return n.createElement(l.Chart,{filter:r?void 0:{framework:e=>!e.startsWith("JDBC")},height:400,padding:"auto",data:t,scale:a,autoFit:!0},n.createElement(l.Interval,{adjust:[{type:"dodge",marginRatio:0}],color:"framework",position:"dataCount*value"}),n.createElement(l.Axis,{name:"value",title:!0}),n.createElement(l.Legend,{position:"left"}),n.createElement(l.Tooltip,{shared:!0}),n.createElement(l.Interaction,{type:"active-region"}))},b=e=>{let{rows:t,valueTitle:a}=e;return n.createElement(r.Z,null,n.createElement(c.Z,null,n.createElement(s.Z,null,n.createElement(i.Z,null,"Framework"),n.createElement(i.Z,null,"Data count"),n.createElement(i.Z,null,a))),n.createElement(o.Z,null,t.map((e=>n.createElement(s.Z,{key:`${e.framework}-${e.dataCount}`},n.createElement(i.Z,null,e.framework),n.createElement(i.Z,null,e.dataCount),n.createElement(i.Z,null,e.value))))))},k={dataCount:{alias:"Data count"},value:{alias:"Ops/s"}},v={dataCount:{alias:"Data count"},value:{alias:"Time(\u03bcs)"}},g=[{framework:"JDBC(ColIndex)",dataCount:"10",value:668548},{framework:"JDBC(ColIndex)",dataCount:"20",value:485607},{framework:"JDBC(ColIndex)",dataCount:"50",value:260938},{framework:"JDBC(ColIndex)",dataCount:"100",value:133789},{framework:"JDBC(ColIndex)",dataCount:"200",value:71362},{framework:"JDBC(ColIndex)",dataCount:"500",value:32131},{framework:"JDBC(ColIndex)",dataCount:"1000",value:16088},{framework:"JDBC(ColName)",dataCount:"10",value:340571},{framework:"JDBC(ColName)",dataCount:"20",value:239359},{framework:"JDBC(ColName)",dataCount:"50",value:128565},{framework:"JDBC(ColName)",dataCount:"100",value:70058},{framework:"JDBC(ColName)",dataCount:"200",value:38895},{framework:"JDBC(ColName)",dataCount:"500",value:16152},{framework:"JDBC(ColName)",dataCount:"1000",value:8172},{framework:"Jimmer(Java)",dataCount:"10",value:348417},{framework:"Jimmer(Java)",dataCount:"20",value:251418},{framework:"Jimmer(Java)",dataCount:"50",value:135241},{framework:"Jimmer(Java)",dataCount:"100",value:78190},{framework:"Jimmer(Java)",dataCount:"200",value:41688},{framework:"Jimmer(Java)",dataCount:"500",value:17355},{framework:"Jimmer(Java)",dataCount:"1000",value:8815},{framework:"Jimmer(Kotlin)",dataCount:"10",value:339465},{framework:"Jimmer(Kotlin)",dataCount:"20",value:245564},{framework:"Jimmer(Kotlin)",dataCount:"50",value:133790},{framework:"Jimmer(Kotlin)",dataCount:"100",value:74563},{framework:"Jimmer(Kotlin)",dataCount:"200",value:39329},{framework:"Jimmer(Kotlin)",dataCount:"500",value:16647},{framework:"Jimmer(Kotlin)",dataCount:"1000",value:8717},{framework:"EasyQuery",dataCount:"10",value:225383},{framework:"EasyQuery",dataCount:"20",value:144832},{framework:"EasyQuery",dataCount:"50",value:76663},{framework:"EasyQuery",dataCount:"100",value:39687},{framework:"EasyQuery",dataCount:"200",value:20858},{framework:"EasyQuery",dataCount:"500",value:8452},{framework:"EasyQuery",dataCount:"1000",value:4511},{framework:"MyBatis",dataCount:"10",value:75843},{framework:"MyBatis",dataCount:"20",value:43330},{framework:"MyBatis",dataCount:"50",value:19353},{framework:"MyBatis",dataCount:"100",value:10430},{framework:"MyBatis",dataCount:"200",value:5273},{framework:"MyBatis",dataCount:"500",value:2099},{framework:"MyBatis",dataCount:"1000",value:1070},{framework:"Exposed",dataCount:"10",value:92778},{framework:"Exposed",dataCount:"20",value:61642},{framework:"Exposed",dataCount:"50",value:30785},{framework:"Exposed",dataCount:"100",value:16518},{framework:"Exposed",dataCount:"200",value:9050},{framework:"Exposed",dataCount:"500",value:3831},{framework:"Exposed",dataCount:"1000",value:1950},{framework:"JPA(Hibernate)",dataCount:"10",value:102253},{framework:"JPA(Hibernate)",dataCount:"20",value:59467},{framework:"JPA(Hibernate)",dataCount:"50",value:26257},{framework:"JPA(Hibernate)",dataCount:"100",value:13539},{framework:"JPA(Hibernate)",dataCount:"200",value:6977},{framework:"JPA(Hibernate)",dataCount:"500",value:2791},{framework:"JPA(Hibernate)",dataCount:"1000",value:1396},{framework:"JPA(EclipseLink)",dataCount:"10",value:64726},{framework:"JPA(EclipseLink)",dataCount:"20",value:33448},{framework:"JPA(EclipseLink)",dataCount:"50",value:13420},{framework:"JPA(EclipseLink)",dataCount:"100",value:6473},{framework:"JPA(EclipseLink)",dataCount:"200",value:3378},{framework:"JPA(EclipseLink)",dataCount:"500",value:1362},{framework:"JPA(EclipseLink)",dataCount:"1000",value:667},{framework:"JOOQ",dataCount:"10",value:68624},{framework:"JOOQ",dataCount:"20",value:35257},{framework:"JOOQ",dataCount:"50",value:15514},{framework:"JOOQ",dataCount:"100",value:7871},{framework:"JOOQ",dataCount:"200",value:4856},{framework:"JOOQ",dataCount:"500",value:1895},{framework:"JOOQ",dataCount:"1000",value:879},{framework:"Nutz",dataCount:"10",value:70429},{framework:"Nutz",dataCount:"20",value:38999},{framework:"Nutz",dataCount:"50",value:17200},{framework:"Nutz",dataCount:"100",value:8268},{framework:"Nutz",dataCount:"200",value:4629},{framework:"Nutz",dataCount:"500",value:1859},{framework:"Nutz",dataCount:"1000",value:957},{framework:"ObjectiveSQL",dataCount:"10",value:47800},{framework:"ObjectiveSQL",dataCount:"20",value:30930},{framework:"ObjectiveSQL",dataCount:"50",value:13229},{framework:"ObjectiveSQL",dataCount:"100",value:6633},{framework:"ObjectiveSQL",dataCount:"200",value:3289},{framework:"ObjectiveSQL",dataCount:"500",value:1338},{framework:"ObjectiveSQL",dataCount:"1000",value:617},{framework:"Spring Data JDBC",dataCount:"10",value:20647},{framework:"Spring Data JDBC",dataCount:"20",value:10672},{framework:"Spring Data JDBC",dataCount:"50",value:4452},{framework:"Spring Data JDBC",dataCount:"100",value:2032},{framework:"Spring Data JDBC",dataCount:"200",value:1084},{framework:"Spring Data JDBC",dataCount:"500",value:460},{framework:"Spring Data JDBC",dataCount:"1000",value:233},{framework:"Ktorm",dataCount:"10",value:18816},{framework:"Ktorm",dataCount:"20",value:10157},{framework:"Ktorm",dataCount:"50",value:4185},{framework:"Ktorm",dataCount:"100",value:2137},{framework:"Ktorm",dataCount:"200",value:1036},{framework:"Ktorm",dataCount:"500",value:361},{framework:"Ktorm",dataCount:"1000",value:229}],w=g.map((e=>({...e,value:Math.round(e.value)}))),C=g.map((e=>({...e,value:Math.round(1e6/e.value)})));function Z(e,t){return parseInt(e.dataCount)-parseInt(t.dataCount)}const x=w.sort(Z),T=C.sort(Z)},82276:(e,t,a)=>{a.d(t,{P:()=>f,Zq:()=>E,x7:()=>y});var n=a(83117),l=a(67294),r=a(39511),o=a(90629),i=a(7906),c=a(295),s=a(53252),m=a(72882),u=a(53184),d=a(53816),p=a(53143),h=a(32102);const f=(0,l.memo)((()=>(0,p.S)()?l.createElement(r.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u7f13\u5b58\u4e00\u81f4\u6027",variant:"outlined"},k):l.createElement(r.b,{buttonText:"A Brief Introduction",title:"Cache Consistency",variant:"outlined"},v))),E=(0,l.memo)((e=>(0,p.S)()?l.createElement(h.s,(0,n.Z)({title:"\u7f13\u5b58\u4e00\u81f4\u6027"},e),k):l.createElement(h.s,(0,n.Z)({title:"Cache Consistency"},e),v))),y=(0,l.memo)((()=>(0,p.S)()?k:v)),b=a(94233).Z,k=l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("img",{src:b})),l.createElement("p",null,l.createElement("b",null,"\u5de6\u4fa7"),"\uff1a\u4fee\u6539\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\uff0c\u5c06",l.createElement("code",null,"Book-10"),"\u7684\u5916\u5efa\u5b57\u6bb5",l.createElement("code",null,"STORE_ID"),"\u4ece",l.createElement("code",null,"2"),"\u4fee\u6539\u4e3a",l.createElement("code",null,"1")),l.createElement("p",null,l.createElement("b",null,"\u53f3\u4fa7"),"\uff1a\u6b64\u4e3e\u4f1a\u5bfc\u81f4\u8fde\u9501\u53cd\u5e94\uff0cJimmer\u4f1a\u81ea\u52a8\u6e05\u7406\u6240\u6709\u53d7\u5f71\u54cd\u7684\u7f13\u5b58\uff0c\u6e05\u7406\u7f13\u5b58\u7684\u52a8\u4f5c\u4f1a\u5728IDE\u4e2d\u7559\u4e0b\u65e5\u5fd7\u8bb0\u5f55",l.createElement("div",{style:{padding:"1rem",marginLeft:"2rem"}},l.createElement(m.Z,{component:o.Z},l.createElement(i.Z,null,l.createElement(u.Z,null,l.createElement(d.Z,null,l.createElement(s.Z,null,"\u88ab\u6e05\u7406\u7684\u7f13\u5b58\u540d"),l.createElement(s.Z,null,l.createElement("span",{style:{whiteSpace:"nowrap"}},"\u7f13\u5b58\u7c7b\u578b")),l.createElement(s.Z,null,"\u63cf\u8ff0"))),l.createElement(c.Z,null,l.createElement(d.Z,null,l.createElement(s.Z,null,"Book-10"),l.createElement(s.Z,null,"\u5bf9\u8c61\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u88ab\u4fee\u6539\u7684\u4e66\u7c4d",l.createElement("code",null,"Book-10"),"\u800c\u8a00\uff0c\u5176\u5bf9\u8c61\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"Book.store-10"),l.createElement(s.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u88ab\u4fee\u6539\u7684\u4e66\u7c4d",l.createElement("code",null,"Book-10"),"\u800c\u8a00\uff0c\u5176many-to-one\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"Book.store"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.books-2"),l.createElement(s.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176one-to-many\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"BookStore.books"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,{style:{whiteSpace:"nowrap"}},"BookStore.newestBooks-2"),l.createElement(s.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176\u5173\u8054\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.newestBooks"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.avgPrice-2"),l.createElement(s.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65e7\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-2"),"\u800c\u8a00\uff0c\u5176\u5173\u7edf\u8ba1\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.avgPrice"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.books-1"),l.createElement(s.Z,null,"\u5173\u8054\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176one-to-many\u5173\u8054\u5c5e\u6027",l.createElement("code",null,"BookStore.books"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.newestBooks-1"),l.createElement(s.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176\u5173\u8054\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.newestBooks"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.avgPrice-1"),l.createElement(s.Z,null,"\u8ba1\u7b97\u7f13\u5b58"),l.createElement(s.Z,null,"\u5bf9\u4e8e\u65b0\u7684\u7236\u5bf9\u8c61",l.createElement("code",null,"BookStore-1"),"\u800c\u8a00\uff0c\u5176\u5173\u7edf\u8ba1\u578b\u8ba1\u7b97\u5c5e\u6027",l.createElement("code",null,"BookStore.avgPrice"),"\u6240\u5bf9\u5e94\u7684\u7f13\u5b58\u5931\u6548")))))))),v=l.createElement(l.Fragment,null,l.createElement("p",null,l.createElement("img",{src:b})),l.createElement("p",null,l.createElement("b",null,"Left side"),": modify the data in the database, udpate the foreign key ",l.createElement("code",null,"STORE_ID")," of ",l.createElement("code",null,"Book-10")," from ",l.createElement("code",null,"2")," to ",l.createElement("code",null,"1")),l.createElement("p",null,l.createElement("b",null,"Right side"),": This action will cause a chain reaction, jimmer will automatically clean up all affected caches, and the actions of cleaning the cache will leave log records in the IDE",l.createElement("div",{style:{padding:"1rem",marginLeft:"2rem"}},l.createElement(m.Z,{component:o.Z},l.createElement(i.Z,null,l.createElement(u.Z,null,l.createElement(d.Z,null,l.createElement(s.Z,null,"The name of the cache to be cleared"),l.createElement(s.Z,null,l.createElement("span",{style:{whiteSpace:"nowrap"}},"cache type")),l.createElement(s.Z,null,"describe"))),l.createElement(c.Z,null,l.createElement(d.Z,null,l.createElement(s.Z,null,"Book-10"),l.createElement(s.Z,null,"Object Cache"),l.createElement(s.Z,null,"For the modified book ",l.createElement("code",null,"Book-10"),", its object cache is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"Book.store-10"),l.createElement(s.Z,null,"Association cache"),l.createElement(s.Z,null,"For the modified book ",l.createElement("code",null,"Book-10"),", the cache corresponding to the many-to-one association property ",l.createElement("code",null,"Book.store")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.books-2"),l.createElement(s.Z,null,"Association cache"),l.createElement(s.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to its one-to-many association property ",l.createElement("code",null,"BookStore.books")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,{style:{whiteSpace:"nowrap"}},"BookStore.newestBooks-2"),l.createElement(s.Z,null,"Calculated cache"),l.createElement(s.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to the associated calculated property ",l.createElement("code",null,"BookStore.newestBooks")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.avgPrice-2"),l.createElement(s.Z,null,"Calculated cache"),l.createElement(s.Z,null,"For the old parent object ",l.createElement("code",null,"BookStore-2"),", the cache corresponding to the statistical calculated property ",l.createElement("code",null,"BookStore.avgPrice")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.books-1"),l.createElement(s.Z,null,"Association cache"),l.createElement(s.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to its one-to-many association property ",l.createElement("code",null,"BookStore.books")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.newestBooks-1"),l.createElement(s.Z,null,"Calculated cache"),l.createElement(s.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to the associated calculated property ",l.createElement("code",null,"BookStore.newestBooks")," is invalid")),l.createElement(d.Z,null,l.createElement(s.Z,null,"BookStore.avgPrice-1"),l.createElement(s.Z,null,"Calculated cache"),l.createElement(s.Z,null,"For the new parent object ",l.createElement("code",null,"BookStore-1"),", the cache corresponding to the statistical calculated property ",l.createElement("code",null,"BookStore.avgPrice")," is invalid"))))))))},68590:(e,t,a)=>{a.d(t,{Qs:()=>p,gy:()=>d});var n=a(83117),l=a(67294),r=a(39511),o=a(23612),i=a(66066),c=a(65488),s=a(85162),m=a(53143),u=a(32102);const d=(0,l.memo)((()=>(0,m.S)()?l.createElement(r.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u4f7f\u7528\u4e0d\u540c\u7f16\u7a0b\u6a21\u578b\u7684\u524d\u540e\u7aef\u5bf9\u63a5",variant:"outlined"},y):l.createElement(r.b,{buttonText:"A Brief Introduction",title:"The docking of the server and the client using different programming models",variant:"outlined"},b))),p=(0,l.memo)((e=>(0,m.S)()?l.createElement(u.s,(0,n.Z)({title:"\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u4f7f\u7528\u4e0d\u540c\u7f16\u7a0b\u6a21\u578b\u7684\u524d\u540e\u7aef\u5bf9\u63a5"},e),y):l.createElement(u.s,(0,n.Z)({title:"The docking of the server and the client using different programming models"},e),b))),h='\n@RestController\npublic class BookController {\n\n    private final BookRepository bookRepository;\n\n    public BookController(BookRepository bookRepository) {\n        this.bookRepository = bookRepository;\n    }\n\n    @GetMapping("/books")\n    public List<\n        @FetchBy("SIMPLE_FETCHER") Book \u2776\n    > findBooks() {\n        return bookRepository.findAll(\n            SIMPLE_FETCHER \u2777\n        );\n    }\n\n    @GetMapping("book/{id}/detail")\n    @Nullable\n    public \n    @FetchBy("COMPLEX_FETCHER") Book \u2778\n    findBookById(\n            @PathVariable("id") long id\n    ) {\n        return bookRepository.findNullable(\n            id, \n            COMPLEX_FETCHER \u2779\n        );\n    }\n\n    private static final Fetcher<Book> SIMPLE_FETCHER = \u277a\n        BookFetcher.$\n            .name();\n\n    private static final Fetcher<Book> COMPLEX_FETCHER = \u277b\n        BookFetcher.$\n            .allScalarFields()\n            .store(\n                BookStoreFetcher.$\n                    .allScalarFields()\n                    .avgPrice()\n            )\n            .authors(\n                AuthorFetcher.$\n                    .allScalarFields()\n            );\n}\n',f='\n@GetMapping("/books")\nfun findBooks(): List<\n    @FetchBy("SIMPLE_FETCHER") Book \u2776\n> =\n    bookRepository.findAll(\n        SIMPLE_FETCHER \u2777\n    )\n\n@GetMapping("/book/{id}/detail")\nfun findBookById(\n    @PathVariable id: Long,\n): @FetchBy("COMPLEX_FETCHER") Book? = \u2778\n    bookRepository.findNullable(\n        id, \n        COMPLEX_FETCHER \u2779\n    )\n\ncompanion object {\n\n    private val SIMPLE_FETCHER = \u277a\n        newFetcher(Book::class).by {\n            name()\n        }\n\n    private val COMPLEX_FETCHER = \u277b\n        newFetcher(Book::class).by {\n\n            allScalarFields()\n\n            store {\n                allScalarFields()\n                avgPrice()\n            }\n            authors {\n                allScalarFields()\n            }\n        }\n}\n',E="\nexport type BookDto = {\n    // highlight-next-line\n    'BookController/SIMPLE_FETCHER': {\n        readonly id: number, \n        readonly name: string\n    }, \n    // highlight-next-line\n    'BookController/COMPLEX_FETCHER': {\n        readonly id: number, \n        readonly name: string, \n        readonly edition: number, \n        readonly price: number, \n        readonly store?: {\n            readonly id: number, \n            readonly name: string, \n            readonly website?: string, \n            readonly avgPrice: number\n        }, \n        readonly authors: ReadonlyArray<{\n            readonly id: number, \n            readonly firstName: string, \n            readonly lastName: string, \n            readonly gender: Gender\n        }>\n    }\n}\nexport class BookService {\n    \n    async findBooks(): Promise<\n        ReadonlyArray<\n            // highlight-next-line\n            BookDto['BookService/SIMPLE_FETCHER']\n        >\n    > {\n        ...\u7701\u7565\u4ee3\u7801...\n    }\n\n    async findBookById(\n        options: { readonly id: number }\n    ): Promise<\n        // highlight-next-line\n        BookDto['BookService/COMPLEX_FETCHER'] | \n        undefined\n    > {\n        ...\u7701\u7565\u4ee3\u7801...\n    }\n\n    ...\u7701\u7565\u5176\u4ed6\u4ee3\u7801...\n}\n",y=l.createElement(l.Fragment,null,l.createElement("h1",null,"\u670d\u52a1\u7aef"),l.createElement(c.Z,{groupId:"language"},l.createElement(s.Z,{value:"java",label:"Java"},l.createElement(i.Z,{language:"java"},h)),l.createElement(s.Z,{value:"kotlin",label:"Kotlin"},l.createElement(i.Z,{language:"kotlin"},f))),l.createElement("ul",null,l.createElement("li",null,"\u2776 \u5bf9\u5916\u627f\u8bfa\uff0cGET ",l.createElement("code",null,"/books"),"\u8fd4\u56de\u7684\u96c6\u5408\u5bf9\u8c61\u4e2d\u7684\u6bcf\u4e00\u4e2aBook\u5bf9\u8c61\u7684\u5f62\u72b6\u4e3a\u9759\u6001\u5e38\u91cfSIMPLE_FETCHER\u6240\u8868\u8fbe\u7684\u5f62\u72b6"),l.createElement("li",null,"\u2777 \u5185\u90e8\u5b9e\u73b0\uff0cGET ",l.createElement("code",null,"/books"),"\u5185\u90e8\u4f7f\u7528\u9759\u6001\u5e38\u91cfSIMPLE_FETCHER\u67e5\u8be2\u6570\u636e",l.createElement(o.Z,{type:"caution"},"\u4f5c\u4e3a\u5bf9\u5916\u627f\u8bfa\u7684\u2776\u548c\u4f5c\u4e3a\u5185\u90e8\u5b9e\u73b0\u7684\u2777\u5fc5\u987b\u4e00\u81f4")),l.createElement("li",null,"\u2778 \u5bf9\u5916\u627f\u8bfa\uff0c\u5982\u679cGET ",l.createElement("code",null,"/book/","{id}","/detail"),"\u8fd4\u56de\u975enull, \u5176\u5f62\u72b6\u4e3a\u9759\u6001\u5e38\u91cfCOMPLEX_FETCHER\u6240\u8868\u8fbe\u7684\u5f62\u72b6"),l.createElement("li",null,"\u2779 \u5185\u90e8\u5b9e\u73b0\uff0cGET ",l.createElement("code",null,"/book/","{id}","/detail"),"\u5185\u90e8\u4f7f\u7528\u9759\u6001\u5e38\u91cfCOMPLEX_FETCHER\u67e5\u8be2\u6570\u636e",l.createElement(o.Z,{type:"caution"},"\u4f5c\u4e3a\u5bf9\u5916\u627f\u8bfa\u7684\u2778\u548c\u4f5c\u4e3a\u5185\u90e8\u5b9e\u73b0\u7684\u2779\u5fc5\u987b\u4e00\u81f4")),l.createElement("li",null,l.createElement("p",null,"\u277a\u548c\u277b\uff0c\u4ee5\u9759\u6001\u5e38\u91cf\u7684\u65b9\u5f0f\u58f0\u660e\u5bf9\u8c61\u7684\u5f62\u72b6\u3002"),l.createElement("p",null,"\u901a\u8fc7@FetchBy\u7684\u4fee\u9970\uff0cJimmer\u5c31\u660e\u767d\u6bcf\u4e2a\u5bf9\u8c61\u5bf9\u5916\u8fd4\u56de\u7684\u6570\u636e\u7684\u5177\u4f53\u5f62\u72b6\u4e86\uff0c\u5b83\u5c31\u53ef\u4ee5\u4e3a\u5ba2\u6237\u7aef\u751f\u6210\u4ee3\u7801\u4e86\uff0c\u5305\u62ecTypeScript"))),l.createElement(o.Z,{type:"tip"},l.createElement("ul",null,l.createElement("li",null,"\u5bf9\u4e8e\u4ee5",l.createElement("code",null,"Book"),"\u4e3a\u805a\u5408\u6839\u7684\u7684\u6570\u636e\u7ed3\u6784\u800c\u8a00\uff0c\u4e0d\u540c\u4e1a\u52a1\u573a\u666f\u7684\u6570\u636e\u7ed3\u6784\u5f62\u72b6\u4e0d\u540c\uff0c \u4f46\u65e0\u8bba\u6570\u636e\u7ed3\u6784\u7684\u5f62\u72b6\u5982\u4f55\u591a\u6837\u5316\uff0c\u53ea\u9700\u5b9a\u4e49\u591a\u6837\u5316\u7684\u5bf9\u8c61\u5f62\u72b6 ",l.createElement("i",null,"(\u4f8b\u5b50\u4e2d\u7684\u277a\u548c\u277b)")," \u5373\u53ef\u3002 \u5bf9\u4e8e\u670d\u52a1\u7aef\u7684Java\u6216Kotlin\u4ee3\u7801\u800c\u8a00\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u7528\u4e00\u4e2a\u7c7b\u578b",l.createElement("code",null,"Book"),"\u6765\u5f00\u53d1\u5e94\u7528\u3002"),l.createElement("li",null,"\u5bf9\u4e8e\u670d\u52a1\u5185\u90e8\u5b9e\u73b0\u800c\u8a00\uff0c\u56e0\u4e3aJimmer\u672c\u8eab\u652f\u6301\u67e5\u8be2\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5f00\u53d1\u4eba\u5458\u53ea\u9700\u4ee5\u5f62\u72b6\u5b9a\u4e49\u4f5c\u4e3a\u989d\u5916\u53c2\u6570\u5b9e\u73b0\u6700\u7b80\u5355\u7684\u805a\u5408\u6839\u67e5\u8be2\u5373\u53ef\u3002 \u8fd9\u548c`MyBatis`\u90a3\u79cd\u5bf9\u6bcf\u79cd\u4e1a\u52a1\u9700\u8981\u7684\u6570\u636e\u7ed3\u6784\u90fd\u9700\u8981\u8fdb\u884c\u6620\u5c04 ",l.createElement("i",null,"(\u6216\u4eba\u5de5\u67e5\u8be2\u5e76\u7ec4\u5408\u4e0d\u540c\u90e8\u5206\u7684\u6570\u636e)")," \u7684\u91cd\u590d\u52b3\u52a8\u6a21\u5f0f\u6709\u672c\u8d28\u4e0d\u540c\u3002"),l.createElement("li",null,"\u5bf9\u4e8e\u5411\u5916\u66b4\u9732HTTP API\u800c\u8a00\uff0c\u76f4\u63a5\u8fd4\u56deJimmer\u52a8\u6001\u5b9e\u4f53\u5373\u53ef\uff0c\u65e0\u9700\u8fdb\u884c\u4efb\u4f55",l.createElement("code",null,"DTO/VO"),"\u8f6c\u5316\u3002 \u5982\u679c\u9700\u8981Jimmer\u751f\u6210\u7684\u5ba2\u6237\u7aef\u4ee3\u7801\uff0c\u4f7f\u7528",l.createElement("code",null,"@FetchBy"),"\u4fee\u9970\u8fd4\u56de\u7c7b\u578b ",l.createElement("i",null,"(\u6216\u5176\u8303\u578b\u53c2\u6570)")," \u5373\u53ef\u3002"))),l.createElement("h1",null,"\u5ba2\u6237\u7aef"),l.createElement(i.Z,{language:"ts"},E),l.createElement(o.Z,{type:"tip"},"\u5bf9\u4e8e\u5ba2\u6237\u7aef\u800c\u8a00\uff0c\u6bcf\u4e00\u4e2a\u4e1a\u52a1\u573a\u666f\u7684API\u90fd\u7cbe\u786e\u5b9a\u4e49\u4e86\u8fd4\u56de\u6570\u636e\u7684DTO\u7c7b\u578b\uff0c\u4efb\u4f55\u8c03\u7528\u90fd\u80fd\u5f97\u5230\u826f\u597d\u7684\u7f16\u8bd1\u65f6\u68c0\u67e5\u548c\u6d41\u7545\u7684IDE\u667a\u80fd\u63d0\u793a\u3002")),b=l.createElement(l.Fragment,null,l.createElement("h1",null,"Server"),l.createElement(c.Z,{groupId:"language"},l.createElement(s.Z,{value:"java",label:"Java"},l.createElement(i.Z,{language:"java"},h)),l.createElement(s.Z,{value:"kotlin",label:"Kotlin"},l.createElement(i.Z,{language:"kotlin"},f))),l.createElement("ul",null,l.createElement("li",null,"\u2776 As external promise, the shape of each ",l.createElement("code",null,"Book")," object in the list object returned by GET ",l.createElement("code",null,"/books")," is the shape expressed by the static constant ",l.createElement("code",null,"SIMPLE_FETCHER")),l.createElement("li",null,"\u2777 Internal implementation, GET ",l.createElement("code",null,"/books")," internally uses the static constant SIMPLE_FETCHER to query data",l.createElement(o.Z,{type:"caution"},"\u2776 as an external promise and \u2777 as an internal realization must be consistent")),l.createElement("li",null,"\u2778 As external promise, if GET ",l.createElement("code",null,"/book/","{id}","/detail")," returns non-null, its shape is the shape expressed by the static constant ",l.createElement("code",null,"COMPLEX_FETCHER")),l.createElement("li",null,"\u2779 Internal implementation, GET ",l.createElement("code",null,"/book/","{id}","/detail")," internally uses the static constant COMPLEX_FETCHER to query data",l.createElement(o.Z,{type:"caution"},"\u2778 as an external promise and \u2779 as an internal realization must be consistent")),l.createElement("li",null,l.createElement("p",null,"\u277a and \u277b, declare the shape of the object in the form of static constants. "),l.createElement("p",null,"Through the decoration of ",l.createElement("code",null,"@FetchBy"),", Jimmer understands the specific shape of the data returned by dynamic object, and it can generate code for the client, including TypeScript"))),l.createElement(o.Z,{type:"tip"},l.createElement("ul",null,l.createElement("li",null,"For the data structure with ",l.createElement("code",null,"Book")," as the aggregate root, the shapes of the data structure are different in different business scenarios, But no matter how diverse the shapes of the data structure are, just define the diverse object shapes ",l.createElement("i",null,"(\u277a and \u277b in the example)"),". For the Java or Kotlin code on the server side, only one type ",l.createElement("code",null,"Book")," to develop the application."),l.createElement("li",null,"For the internal implementation of the service, because Jimmer itself supports querying data structures of any shapes, developers only need to use the shape definition as an additional parameter to implement the simplest aggregate root query. This is fundamentally different from `MyBatis`, which needs to map result ",l.createElement("i",null,"(or manually query and combine different parts of data)")," for all data shapes required by all scenarios."),l.createElement("li",null,"For exposing the HTTP API to the outside, it is sufficient to directly return the Jimmer dynamic entity without any ",l.createElement("code",null,"DTO/VO")," conversion. If you need the client code generated by Jimmer, use ",l.createElement("code",null,"@FetchBy")," to decoreate the return type ",l.createElement("i",null," (or its generic parameters)"),"."))),l.createElement("h1",null,"client"),l.createElement(i.Z,{language:"ts"},E),l.createElement(o.Z,{type:"tip"},"For the client, the API of each business scenario precisely defines the DTO type of the returned data, and any invocation can get good compile-time checks and smooth IDE intelligent prompts."))},9206:(e,t,a)=>{a.d(t,{Aj:()=>m,Zb:()=>s,vZ:()=>u});var n=a(83117),l=a(67294),r=a(66066),o=a(39511),i=a(53143),c=a(32102);const s=(0,l.memo)((()=>(0,i.S)()?l.createElement(o.b,{buttonText:"\u884c\u4e1a\u7a7a\u767d",title:"Jimmer DSL\u5f25\u8865\u884c\u4e1a\u7a7a\u767d",variant:"text"},f):l.createElement(o.b,{buttonText:"industry gap",title:"Jimmer DSL fills gap of industry",variant:"text"},E))),m=(0,l.memo)((e=>(0,i.S)()?l.createElement(c.s,(0,n.Z)({title:"Jimmer DSL\u5f25\u8865\u884c\u4e1a\u7a7a\u767d"},e),f):l.createElement(c.s,(0,n.Z)({title:"Jimmer DSL fills gap of industry"},e),E))),u=(0,l.memo)((()=>(0,i.S)()?f:E)),d="\n@org.apache.ibatis.annotations.Mapper\npublic interface BookMapper {\n\n    List<Book> findBooks(\n        @Nullable String name,\n        @Nullable String storeName,\n        @Nullable String storeWebsite\n    );\n}\n",p='\n<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="somepackage.BookMapper">\n    <select id="findBooks" resultType="somepackage.Book">\n        select * from BOOK as book\n        \x3c!-- highlight-next-line --\x3e\n        <if test="storeName != null or storeWebsite != null"> \u2776\n            inner join BOOK_STORE as store\n                on book.STORE_ID = store.ID\n        </if>\n        <where>\n            <if test="name != null">\n                and book.NAME = #{name}\n            </if>\n            <if test="storeName != null"> \u2777\n                and store.NAME = #{storeName}\n            </if>\n            <if test="storeWebsite != null">\n                and store.WEBSITE = #{storeWebsite} \u2778\n            </if>\n        </where>\n    </select>\n</mapper>\n',h='<?xml version="1.0" encoding="UTF-8" ?>\n<!DOCTYPE mapper\n        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"\n        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">\n<mapper namespace="somepackage.AMapper">\n    <select id="findAObjects" resultType="somepackage.A">\n        select distinct A.id\n        from A\n        \x3c!-- highlight-start --\x3e\n        <if test="bId != null or cId != null or dId != null or eId != null">\n            inner join B on A.ID = B.A_ID\n        </if>\n        <if test="cId != null or dId != null or eId != null">\n            inner join C on B.ID = C.B_ID\n        </if>\n        <if test="dId != null or eId != null">\n            inner join D on C.ID = D.C_ID\n        </if>\n        <if test="eId != null">\n            inner join E on D.ID = E.D_ID\n        </if>\n        \x3c!-- highlight-end --\x3e\n        <where>\n            <if test="aId != null">\n                and A.ID = #{aId}\n            </if>\n            <if test="bId != null">\n                and B.ID = #{bId}\n            </if>\n            <if test="cId != null">\n                and C.ID = #{cId}\n            </if>\n            <if test="dId != null">\n                and D.ID = #{dId}\n            </if>\n            <if test="eId != null">\n                and E.ID = #{eId}\n            </if>\n        </where>\n    </select>\n</mapper>',f=l.createElement(l.Fragment,null,l.createElement("p",null,"\u76ee\u524d\u5176\u4ed6\u64cd\u4f5cSQL\u7684\u6280\u672f\u65b9\u6848\uff0c\u65e0\u8bbaORM\u8fd8\u662f\u975eORM\uff0c\u90fd\u6709\u5b58\u5728\u4e00\u4e2a\u7a7a\u767d\u9886\u57df\uff1a\u53ea\u8003\u8651\u5230\u4e86`\u52a8\u6001where`\uff0c\u6ca1\u6709\u8003\u8651`\u52a8\u6001join`\u3002"),l.createElement("p",null,"`\u52a8\u6001JOIN`\u5b9a\u4e49\uff1a\u5982\u679c\u67d0\u4e9b\u52a8\u6001\u67e5\u8be2\u6761\u4ef6\u9488\u5bf9\u5176\u4ed6\u8868\u800c\u975e\u5f53\u524d\u8868\u3002\u8fd9\u610f\u5473\u7740"),l.createElement("ul",null,l.createElement("li",null,"\u6761\u4ef6\u6ee1\u8db3\u65f6\uff1a\u5148\u901a\u8fc7\u5173\u8054\u5c5e\u6027join\u5230\u5176\u4ed6\u8868\uff0c\u518d\u5bf9join\u5f97\u5230\u7684\u8868\u6dfb\u52a0\u52a8\u6001where\u6761\u4ef6"),l.createElement("li",null,"\u6761\u4ef6\u4e0d\u6ee1\u8db3\u65f6\uff1a\u4e0d\u80fd\u901a\u8fc7\u5173\u8054\u5c5e\u6027join\u5176\u4ed6\u8868")),l.createElement("h1",null,"\u573a\u666f1"),l.createElement("p",null,"\u8ba9\u6211\u4eec\u5148\u6765\u770b\u7b2c\u4e00\u4e2a\u573a\u666f\uff0c\u8fd9\u91cc\u7528\u9762\u5411\u539f\u751fSQL\u7684MyBatis\u4e3a\u4f8b"),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,"\u5b9a\u4e49MyBatis Mapper\u63a5\u53e3"),l.createElement(r.Z,{language:"java"},d),l.createElement("p",null,"\u8fd9\u91cc\uff0c\u6240\u6709\u67e5\u8be2\u53c2\u6570\u90fd\u53ef\u80fd\u4e3anull\uff0c\u5f88\u660e\u663e\uff0c\u8fd9\u662f\u4e00\u4e2a\u52a8\u6001\u67e5\u8be2\u3002"),l.createElement("p",null,"\u540e\u9762\u4e24\u4e2a\u67e5\u8be2\u53c2\u6570\uff1a`storeName`\u548c`storeWebsite`\uff0c\u5176\u8fc7\u6ee4\u6761\u4ef6\u5e76\u4e0d\u65bd\u52a0\u5728\u5f53\u524d\u8868`BOOK`\u4e0a\uff0c\u800c\u662f\u65bd\u52a0\u5728\u7236\u8868`BOOK_STORE\u4e0a`\u3002 \u5373\uff0c\u5f53\u8fd9\u4e24\u4e2a\u53c2\u6570\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u975enull\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u5bf9`BOOK_STORE`\u8868\u7684JOIN\uff0c\u8fd9\u79cd\u7531\u53c2\u6570\u503c\u52a8\u6001\u51b3\u5b9a\u662f\u5426\u6dfb\u52a0\u7684\u8868\u8fde\u63a5\uff0c\u5728\u672c\u6587\u4e2d\u88ab\u79f0\u4e3a`\u52a8\u6001JOIN`\u3002")),l.createElement("li",null,"\u5b9a\u4e49MyBatis Mapper\u63a5\u53e3",l.createElement(r.Z,{language:"xml"},p),l.createElement("p",null,"\u5176\u4e2d\uff0c\u2776\u5c31\u662f\u52a8\u6001JOIN\u3002\u7136\u800c\u5bf9\u5f00\u53d1\u4eba\u5458\u800c\u8a00\uff0c\u2777\u548c\u2778\u624d\u662f\u76ee\u7684\uff0c\u2776\u662f\u4e3a\u652f\u6301\u2777\u548c\u2778\u800c\u4e0d\u5f97\u4e0d\u505a\u7684\u5de5\u4f5c\uff0c\u5176\u5224\u65ad\u6761\u4ef6\u662f\u4e00\u79cd\u8d1f\u62c5\u3002"),l.createElement("p",null,"\u4e5f\u8bb8\u4f60\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\uff0c\u2776\u7684\u5224\u65ad\u6761\u4ef6\u4f7f\u7528\u4e86`or`\uff0c\u8fd9\u4e5f\u4e0d\u96be\u7406\u89e3\u3002"),l.createElement("p",null,l.createElement("b",null,"\u7136\u800c\uff0c\u8fd9\u4ec5\u4ec5\u662f\u6700\u7b80\u5355\u7684\u4e24\u8868\u4e4b\u95f4\u52a8\u6001\u8fde\u63a5\uff0c\u5bf9\u4e8e\u66f4\u6df1\u7684\u591a\u8868\u8fde\u63a5\u64cd\u4f5c\u800c\u8a00\uff0c\u52a8\u6001\u8fde\u63a5\u7684\u590d\u6742\u5ea6\u4f1a\u6025\u5267\u4e0a\u5347\uff01")))),l.createElement("h1",null,"\u573a\u666f-2"),l.createElement("p",null,"\u8ba9\u6211\u4eec\u518d\u6765\u770b\u7b2c\u4e8c\u4e2a\u573a\u666f\uff0c\u6709\u4e86\u524d\u9762\u7684\u4f8b\u5b50\u4f5c\u4e3a\u57fa\u7840\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u4e0d\u540c\u4efb\u4f55\u4e1a\u52a1\u8026\u5408\u4e86\u3002"),l.createElement(r.Z,{language:"xml"},h),l.createElement("p",null,"\u8fd9\u4e2a\u4f8b\u5b50\u903b\u8f91\u5f88\u7b80\u5355\uff0cA\u3001B\u3001C\u3001D\u548cE\u8fd9\u4e94\u5f20\u8868\u5f62\u6210\u4e86\u4e00\u4e2aJOIN\u94fe\uff0c\u6bcf\u5f20\u8868\u90fd\u4e00\u4e2a\u52a8\u6001\u67e5\u8be2\u6761\u4ef6\u3002\u7136\u800c\uff0c\u6b63\u5982\u4f60\u6240\u89c1\uff0c\u52a8\u6001JOIN\u7684\u590d\u6742\u5ea6\u5df2\u7ecf\u53d8\u5f97\u4e0d\u53ef\u63a5\u53d7\u4e86\u3002"),"\xa0 \xa0 \xa0 \xa0"),E=l.createElement(l.Fragment,null,l.createElement("p",null,"Currently, other technical solutions for SQL operations, whether ORM or non-ORM, have a gap: they only consider ",l.createElement("code",null,"dynamic where")," but not ",l.createElement("code",null,"dynamic join"),"."),l.createElement("p",null,l.createElement("code",null,"Dynamic JOIN")," is defined as follows: if certain dynamic query condition apply to other tables rather than the current table. This means that:"),l.createElement("ul",null,l.createElement("li",null,"When the condition is matched: first join the other table through the associated property, and then add dynamic where condition to the joined table."),l.createElement("li",null,"When the condition is not matched: cannot join other tables through the associated property.")),l.createElement("h1",null,"Scenario 1"),l.createElement("p",null,"Let's start by looking at the first scenario, which uses MyBatis with native SQL."),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,"Define the MyBatis Mapper interface"),l.createElement(r.Z,{language:"java"},d),l.createElement("p",null,"Here, all query parameters may be null, obviously, this is a dynamic query. "),l.createElement("p",null,"The following two query parameters: `storeName` and `storeWebsite`, the filter conditions are not applied to the current table `BOOK`, but to the parent table `BOOK_STORE`. That is, when any of these two parameters is non-null, a JOIN to the `BOOK_STORE` table will be generated. This kind of table join that is dynamically determined by the parameter value is called `dynamic JOIN` in this article. ")),l.createElement("li",null,"Define the MyBatis Mapper interface",l.createElement(r.Z,{language:"xml"},p),l.createElement("p",null,"Among them, \u2776 is dynamic JOIN. However, for developers, \u2777 and \u2778 are the goals, \u2776 is the work that must be done to support \u2777 and \u2778, and the judgment conditions are a burden. "),l.createElement("p",null,"Perhaps you have noticed that the judgment condition of \u2776 uses `or`, which is not difficult to understand. "),l.createElement("p",null,l.createElement("b",null,"However, this is only the simplest dynamic connection between two tables. For deeper multi-table join operations, the complexity of dynamic join will rise sharply! ")))),l.createElement("h1",null,"Scenario-2"),l.createElement("p",null,"Let's look at the second scenario. With the previous example as the basis, this example is not coupled with any business. "),l.createElement(r.Z,{language:"xml"},h),l.createElement("p",null,"The logic of this example is very simple. The five tables A, B, C, D, and E form a JOIN chain, and each table has a dynamic query condition. However, as you can see, the complexity of dynamic JOINs has become unacceptable. "),"\xa0 \xa0 \xa0 \xa0")},13531:(e,t,a)=>{a.d(t,{C:()=>u,H:()=>m});var n=a(83117),l=a(67294),r=a(65488),o=a(85162),i=a(39511),c=a(53143),s=a(32102);const m=(0,l.memo)((()=>(0,c.S)()?l.createElement(i.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u67e5\u8be2\u4efb\u610f\u5f62\u72b6\u7684\u5bf9\u8c61",variant:"outlined"},h):l.createElement(i.b,{buttonText:"A brief introduction",title:"Query data structure of any shape",variant:"outlined"},h))),u=(0,l.memo)((e=>(0,c.S)()?l.createElement(s.s,(0,n.Z)({title:"\u67e5\u8be2\u4efb\u610f\u5f62\u72b6\u7684\u5bf9\u8c61"},e),h):l.createElement(s.s,(0,n.Z)({title:"Query data structure of any shape"},e),h))),d=a(98614).Z,p=a(67714).Z,h=l.createElement(l.Fragment,null,l.createElement(r.Z,{groupId:"language"},l.createElement(o.Z,{value:"java",label:"Java"},l.createElement("video",{width:"100%",controls:!0},l.createElement("source",{src:d,type:"video/mp4"}),l.createElement("div",{style:{padding:"1rem",fontSize:"2rem",color:"red"}},"Your browser does not support the video tag."))),l.createElement(o.Z,{value:"kotlin",label:"Kotlin"},l.createElement("video",{width:"100%",controls:!0},l.createElement("source",{src:p,type:"video/mp4"}),l.createElement("div",{style:{padding:"1rem",fontSize:"2rem",color:"red"}},"Your browser does not support the video tag.")))))},34249:(e,t,a)=>{a.d(t,{I:()=>m,S:()=>s});var n=a(83117),l=a(67294),r=a(39511),o=a(32360),i=a(53143),c=a(32102);const s=(0,l.memo)((()=>(0,i.S)()?l.createElement(r.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u6027\u80fd\u62a5\u544a",variant:"outlined"},u):l.createElement(r.b,{buttonText:"A Brief Introduction",title:"Performance Report",variant:"outlined"},d))),m=(0,l.memo)((e=>(0,i.S)()?l.createElement(c.s,(0,n.Z)({title:"\u6027\u80fd\u62a5\u544a"},e),u):l.createElement(c.s,(0,n.Z)({title:"Performance Report"},e),d))),u=l.createElement(l.Fragment,null,l.createElement(o.L,{type:"OPS",locale:"zh"}),l.createElement("b",null,"\u6bcf\u79d2\u64cd\u4f5c\u6b21\u6570"),l.createElement("ul",null,l.createElement("li",null,l.createElement("b",null,"\u6a2a\u5750\u6807"),": \u6bcf\u6b21\u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5230\u7684\u6570\u636e\u5bf9\u8c61\u7684\u6570\u91cf\u3002"),l.createElement("li",null,l.createElement("b",null,"\u7eb5\u5750\u6807"),": \u6bcf\u79d2\u64cd\u4f5c\u6b21\u6570\u3002")),l.createElement("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u70b9\u51fb\u56fe\u6807\u4e0a\u65b9\u7684",l.createElement("code",null,"\u663e\u793a\u539f\u751fJDBC\u5750\u6807"),"\u6765\u548c\u539f\u59cb\u7684JDBC\u5bf9\u6bd4\u3002\u8fd9\u6837\u64cd\u4f5c\u540e\uff0c\u4f60\u4f1a\u770b\u5230\u96be\u4ee5\u7f6e\u4fe1\u7684\u7ed3\u679c\u5e76\u96be\u514d\u8d28\u7591\u5176\u771f\u5b9e\u6027\uff0c\u5728\u6027\u80fd\u6307\u6807\u76f8\u5173\u7684\u6587\u6863\u4e2d\uff0c\u6211\u4eec\u4f1a\u5bf9\u5176\u4f1a\u7ed9\u4e88\u89e3\u91ca\u3002")),d=l.createElement(l.Fragment,null,l.createElement(o.L,{type:"OPS"}),l.createElement("b",null,"Operations per second"),l.createElement("ul",null,l.createElement("li",null,l.createElement("b",null,"Abscissa"),": The number of data objects queried from the database each time."),l.createElement("li",null,l.createElement("b",null,"Vertical axis"),": Operations per second.")),l.createElement("p",null,"You can also click ",l.createElement("code",null,"Show native JDBC coordinates")," above the icon to compare with the original JDBC. After doing this, you will see incredible results and inevitably question its authenticity. In the documentation related to performance indicators, we will explain it."))},11878:(e,t,a)=>{a.d(t,{D:()=>m,V:()=>s});var n=a(83117),l=a(67294),r=a(23612),o=a(39511),i=a(53143),c=a(32102);const s=(0,l.memo)((()=>(0,i.S)()?l.createElement(o.b,{buttonText:"\u7b80\u8981\u4e86\u89e3",title:"\u4fdd\u5b58\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784",variant:"outlined"},d):l.createElement(o.b,{buttonText:"A Brief Introduction",title:"Save data structure of any shape",variant:"outlined"},p))),m=(0,l.memo)((e=>(0,i.S)()?l.createElement(c.s,(0,n.Z)({title:"\u4fdd\u5b58\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784"},e),d):l.createElement(c.s,(0,n.Z)({title:"Save data structure of any shape"},e),p))),u=a(20778).Z,d=l.createElement(l.Fragment,null,l.createElement("img",{src:u}),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"\u53f3\u4e0a\u89d2: "),"\u7528\u6237\u4f20\u5165\u4e00\u4e2a\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\uff0c\u8ba9Jimmer\u5199\u5165\u6570\u636e\u5e93\u3002"),l.createElement("p",null,"\u8fd9\u548c\u5176\u4ed6ORM\u6846\u67b6\u7684save\u65b9\u6cd5\u4e4b\u95f4\u5b58\u5728\u672c\u8d28\u5dee\u5f02\u3002 \u4ee5JPA/Hibernate\u4e3a\u4f8b\uff0c\u5bf9\u8c61\u7684\u666e\u901a\u5c5e\u6027\u662f\u5426\u9700\u8981\u88ab\u4fdd\u5b58\u901a\u8fc7",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#insertable--"},"Column.insertable"),"\u548c",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#updatable--"},"Column.updatable"),"\u63a7\u5236\uff0c \u5173\u8054\u5c5e\u6027\u662f\u5426\u9700\u8981\u88ab\u4fdd\u5b58\u901a\u8fc7",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToOne.html#cascade--"},"OneToOne.cascade"),"\u3001",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html#cascade--"},"ManyToOne.cascade"),"\u3001",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html#cascade--"},"OenToMany.cascade"),"\u548c",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#cascade--"},"ManyToOne.cascade"),"\u63a7\u5236\u3002 \u7136\u800c\uff0c\u65e0\u8bba\u5982\u4f55\u5f00\u53d1\u4eba\u5458\u5982\u4f55\u914d\u7f6e\uff0cJPA/Hibernate\u80fd\u591f\u4e3a\u4f60\u4fdd\u5b58\u7684\u6570\u636e\u7ed3\u6784\u7684\u5f62\u72b6\u662f\u56fa\u5b9a\u7684\u3002"),l.createElement("p",null,"Jimmer\u91c7\u7528\u5b8c\u5168\u4e0d\u540c\u65b9\u6cd5\uff0c\u88ab\u4fdd\u5b58\u7684Jimmer\u5bf9\u8c61\u867d\u7136\u662f\u5f3a\u7c7b\u578b\u7684\uff0c\u4f46\u5177\u5907\u52a8\u6001\u6027 ",l.createElement("i",null,"(\u5373, \u4e0d\u8bbe\u7f6e\u5bf9\u8c61\u5c5e\u6027\u548c\u628a\u5bf9\u8c61\u5bf9\u8c61\u5c5e\u6027\u8bbe\u7f6e\u4e3anull\u662f\u5b8c\u5168\u540c\u7684\u4e24\u7801\u4e8b)"),"\uff0c \u88ab\u8bbe\u7f6e\u7684\u5c5e\u6027\u4f1a\u88ab\u4fdd\u5b58\uff0c\u800c\u672a\u88ab\u8bbe\u7f6e\u7684\u5c5e\u6027\u4f1a\u88ab\u5ffd\u7565\uff0c\u8fd9\u6837\uff0c\u5c31\u53ef\u4ee5\u4fdd\u5b58\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\u3002")),l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"\u5de6\u4e0a\u89d2: "),"\u4ece\u6570\u636e\u5e93\u4e2d\u67e5\u8be2\u5df2\u6709\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4e8e\u548c\u7528\u6237\u4f20\u5165\u7684\u65b0\u6570\u636e\u7ed3\u6784\u5bf9\u6bd4\u3002"),l.createElement("p",null,"\u7528\u6237\u4f20\u5165\u4ec0\u4e48\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5c31\u4ece\u6570\u636e\u67e5\u8be2\u4ec0\u4e48\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\uff0c\u65b0\u65e7\u6570\u636e\u7ed3\u6784\u7684\u5f62\u72b6\u5b8c\u5168\u4e00\u81f4\u3002\u6240\u4ee5\uff0c\u67e5\u8be2\u6210\u672c\u548c\u5bf9\u6bd4\u6210\u672c\u7531\u7528\u6237\u4f20\u5165\u7684\u6570\u636e\u7ed3\u6784\u7684\u590d\u6742\u5ea6\u51b3\u5b9a\u3002")),l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"\u4e0b\u65b9: "),"\u5bf9\u6bd4\u65b0\u65e7\u6570\u636e\u7ed3\u6784\uff0c\u627e\u51faDIFF\u5e76\u6267\u884c\u76f8\u5e94\u7684SQL\u64cd\u4f5c\uff0c\u8ba9\u65b0\u65e7\u6570\u636e\u4e00\u81f4\uff1a"),l.createElement("ul",null,l.createElement("li",null,l.createElement("span",{style:{color:"orange"}},"\u6a59\u8272\u90e8\u5206"),"\uff1a\u5bf9\u4e8e\u5728\u65b0\u65e7\u6570\u636e\u7ed3\u6784\u4e2d\u5b58\u5728\u7684\u5b9e\u4f53\u5bf9\u8c61\uff0c\u5982\u679c\u67d0\u4e9b\u6807\u91cf\u5c5e\u6027\u53d1\u751f\u53d8\u5316\uff0c\u4fee\u6539\u6570\u636e"),l.createElement("li",null,l.createElement("span",{style:{color:"blue"}},"\u84dd\u8272\u90e8\u5206"),"\uff1a\u5bf9\u4e8e\u5728\u65b0\u65e7\u6570\u636e\u7ed3\u6784\u4e2d\u5b58\u5728\u7684\u5b9e\u4f53\u5bf9\u8c61\uff0c\u5982\u679c\u67d0\u4e9b\u5173\u8054\u53d1\u751f\u53d8\u5316\uff0c\u4fee\u6539\u5173\u8054"),l.createElement("li",null,l.createElement("span",{style:{color:"green"}},"\u7eff\u8272\u90e8\u5206"),"\uff1a\u5bf9\u4e8e\u5728\u65b0\u6570\u636e\u7ed3\u6784\u4e2d\u5b58\u5728\u4f46\u5728\u65e7\u6570\u636e\u7ed3\u6784\u4e2d\u4e0d\u5b58\u5728\u5b9e\u4f53\u5bf9\u8c61\uff0c\u63d2\u5165\u6570\u636e\u5e76\u5efa\u7acb\u5173\u8054"),l.createElement("li",null,l.createElement("span",{style:{color:"red"}},"\u7ea2\u8272\u90e8\u5206"),"\uff1a\u5bf9\u4e8e\u5728\u65e7\u6570\u636e\u7ed3\u6784\u4e2d\u5b58\u5728\u4f46\u5728\u65b0\u6570\u636e\u7ed3\u6784\u4e2d\u4e0d\u5b58\u5728\u5b9e\u4f53\u5bf9\u8c61\uff0c\u5bf9\u6b64\u5bf9\u8c61\u8fdb\u884c\u8131\u94a9\uff0c\u6e05\u9664\u5173\u8054\u5e76\u6709\u53ef\u80fd\u5220\u9664\u6570\u636e")))),l.createElement(r.Z,{type:"tip"},l.createElement("p",null,"\u6b64\u529f\u80fd\u7684\u76ee\u7684\uff1a\u628a\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u4f7f\u7528\u4e00\u884c\u4ee3\u7801\u5199\u5165\u6570\u636e\u5e93\uff0c\u65e0\u8bba\u4e2d\u95f4\u7ec6\u8282\u591a\u590d\u6742\uff0c\u90fd\u4e0d\u7528\u5173\u5fc3\u3002"),l.createElement("p",null,"\u5982\u679c\u4f60\u4e86\u89e3Web\u9886\u57df\u7684",l.createElement("a",{href:"https://react.dev/"},"React"),"\u6216",l.createElement("a",{href:"https://vuejs.org/"},"Vue"),"\uff0c\u4e0d\u96be\u770b\u51fa\u8fd9\u4e2a\u529f\u80fd\u5f88\u50cf`Virtual DOM diff`\u3002")),"\xa0 \xa0 \xa0"),p=l.createElement(l.Fragment,null,l.createElement("img",{src:u}),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"Upper right corner: ")," The user passes in a data structure of any shape, and asks Jimmer to write it into the database."),l.createElement("p",null,"There is an essential difference between this and the save method of other ORM frameworks. Taking JPA/Hibernate as an example, whether the scalar properties of the entity need to be saved is controlled by",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#insertable--"},"Column.insertable")," and",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#updatable--"},"Column.updatable")," control, and whether association properties need to be saved is controlled by",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToOne.html#cascade--"},"OneToOne.cascade"),",",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html#cascade--"},"ManyToOne.cascade"),",",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html#cascade--"},"OenToMany.cascade")," and",l.createElement("a",{href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#cascade--"},"ManyToOne.cascade")," control. However, no matter how the developer configures it, the shape of the data structure that JPA/Hibernate can save for you is fixed."),l.createElement("p",null,"Jimmer adopts a completely different approach. Although the saved jimmer object is strongly typed, it is dynamic ",l.createElement("i",null,"(that is, not setting the object property and setting the object property to null are completely different things)"),", Properties that are set are saved and properties that are not set are ignored, so that data structures of any shapes can be saved.")),l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"Upper left corner: "),"Query the existing data structure from the database for comparison with the new data structure specified    by the user."),l.createElement("p",null,"The shape of the data structure queried from database is same with the shape of new data structure give by user. Therefore, the query cost and comparison cost are determined by the complexity of the data structure specified    by the user.")),l.createElement("li",null,l.createElement("p",null,l.createElement("b",null,"Below: ")," Compare the old and new data structures, find ",l.createElement("code",null,"DIFF")," and execute the corresponding SQL operations:"),l.createElement("ul",null,l.createElement("li",null,l.createElement("span",{style:{color:"orange"}},"Orange part"),": For entity objects that exist in both old and new data structures, if some scalar properties change, modify the data"),l.createElement("li",null,l.createElement("span",{style:{color:"blue"}},"Blue part"),": For entity objects that exist in both old and new data structures, if some associations change, modify the association"),l.createElement("li",null,l.createElement("span",{style:{color:"green"}},"Green part"),": For entity objects that exist in the new data structure but do not exist in the old data structure, insert data and create the association"),l.createElement("li",null,l.createElement("span",{style:{color:"red"}},"Red part"),": For entity objects that exist in the old data structure but not in the new data structure, dissociate this object, clear the association and possibly delete the data")))),l.createElement(r.Z,{type:"tip"},l.createElement("p",null,"The purpose of this function: take the data structure of any shape as a whole, and use one line of code to write it into the database, no matter how complicated the intermediate details are, you don't have to care. "),l.createElement("p",null,"If you know ",l.createElement("a",{href:"https://react.dev/"},"React")," or ",l.createElement("a",{href:"https://vuejs.org/"},"Vue")," in the web field, it is not difficult to see that this function is very similar to `Virtual DOM diff`. ")),"\xa0 \xa0 \xa0")},86153:(e,t,a)=>{a.d(t,{_:()=>j});var n=a(67294),l=a(87357),r=a(83321),o=a(61903),i=a(23599),c=a(86886),s=a(67720),m=a(90629),u=a(7906),d=a(295),p=a(53252),h=a(72882),f=a(53184),E=a(53816),y=a(24661),b=a(96540),k=a(93946),v=a(41733),g=a(50657),w=a(31425),C=a(6514),Z=a(58951),x=a(37645),T=a(52263),S=a(59457);const j=(0,n.memo)((()=>{const{i18n:e}=(0,T.Z)(),t=(0,n.useMemo)((()=>"zh"==e.currentLocale||"zh_cn"==e.currentLocale||"zh_CN"==e.currentLocale),[e.currentLocale]),a=(0,n.useMemo)((()=>B),[t]),j=(0,n.useMemo)((()=>{const e=new Map;for(const t of a)e.set(t.id,t);return e}),[a]),M=(0,n.useMemo)((()=>("zh"==e.currentLocale||"zh_cn"==e.currentLocale||e.currentLocale,O)),[e.currentLocale]),I=(0,n.useMemo)((()=>{const e=new Map;for(const t of M)e.set(t.id,t);return e}),[M]),[J,D]=(0,S.x)((()=>({userId:1,province:j.get(1).province,city:j.get(1).city,address:j.get(1).address,items:[{__rowId:1,productId:1,name:I.get(1).name,quantity:2},{__rowId:2,productId:10,name:I.get(10).name,quantity:1}]}))),P=(0,n.useMemo)((()=>Math.max(...J.items.map((e=>e.__rowId)))+1),[J]),L=(0,n.useCallback)((e=>{const t=j.get(parseInt(e.target.value));void 0!==t&&D((e=>{e.userId=t.id,e.province=t.province,e.city=t.city,e.address=t.address}))}),[D,j]),R=(0,n.useCallback)((e=>{D((t=>{t.province=e.target.value}))}),[D]),F=(0,n.useCallback)((e=>{D((t=>{t.city=e.target.value}))}),[D]),q=(0,n.useCallback)((e=>{D((t=>{t.address=e.target.value}))}),[D]),A=(0,n.useCallback)(((e,t)=>{D((a=>{for(const n of a.items)if(n.__rowId===t){n.productId=parseInt(e.target.value),N(a);break}}))}),[D]),_=(0,n.useCallback)(((e,t)=>{D((a=>{for(const n of a.items)if(n.__rowId===t){n.quantity=parseInt(e.target.value),N(a);break}}))}),[D]),z=(0,n.useCallback)((e=>{D((t=>{for(let a=t.items.length-1;a>=0;--a)if(t.items[a].__rowId===e){t.items.splice(a,1);break}}))}),[D]),Q=(0,n.useCallback)((()=>{D((e=>{e.items.push({__rowId:P,quantity:1})}))}),[D,P]),[H,V]=(0,n.useState)(!1),K=(0,n.useCallback)((()=>{V(!0)}),[]),U=(0,n.useCallback)((()=>{V(!1)}),[]);return n.createElement(m.Z,{elevation:3,style:{padding:"1.5rem"}},n.createElement(l.Z,{component:"form",noValidate:!0,autoComplete:"off"},n.createElement(c.ZP,{container:!0,spacing:2},n.createElement(c.ZP,{item:!0,xs:4},n.createElement(o.Z,{fullWidth:!0,select:!0,label:"\u8d2d\u4e70\u4eba",value:J.userId,onChange:L},a.map((e=>n.createElement(i.Z,{key:e.id,value:e.id},e.nickName))))),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(o.Z,{fullWidth:!0,label:"\u7701\u4efd",value:J.province,onChange:R})),n.createElement(c.ZP,{item:!0,xs:4},n.createElement(o.Z,{fullWidth:!0,label:"\u57ce\u5e02",value:J.city,onChange:F})),n.createElement(c.ZP,{item:!0,xs:12},n.createElement(o.Z,{fullWidth:!0,label:"\u5730\u5740",value:J.address,onChange:q})),n.createElement(c.ZP,{item:!0,xs:12},n.createElement(s.Z,{textAlign:"left"},"\u8ba2\u5355\u660e\u7ec6"),n.createElement(h.Z,{component:m.Z},n.createElement(u.Z,{size:"small"},n.createElement(f.Z,null,n.createElement(E.Z,null,n.createElement(p.Z,null,"\u5546\u54c1"),n.createElement(p.Z,null,"\u6570\u91cf"),n.createElement(p.Z,null,"\u5355\u4ef7"),n.createElement(p.Z,null,"\u660e\u7ec6\u4ef7"),n.createElement(p.Z,null,"\u5220\u9664"))),n.createElement(d.Z,null,J.items.map((e=>{const t=void 0!==e.productId?I.get(e.productId):void 0;return n.createElement(E.Z,{key:e.__rowId},n.createElement(p.Z,null,n.createElement(o.Z,{select:!0,value:null==t?void 0:t.id,variant:"standard",size:"small",onChange:t=>{A(t,e.__rowId)}},M.map((e=>n.createElement(i.Z,{key:e.id,value:e.id},e.name))))),n.createElement(p.Z,null,n.createElement(o.Z,{type:"number",value:e.quantity,variant:"standard",size:"small",onChange:t=>{_(t,e.__rowId)}})),n.createElement(p.Z,null,null==t?void 0:t.price),n.createElement(p.Z,null,void 0!==t&&t.price*e.quantity),n.createElement(p.Z,null,n.createElement(k.Z,{onClick:()=>z(e.__rowId)},n.createElement(v.Z,null))))}))),n.createElement(y.Z,null,n.createElement(E.Z,null,n.createElement(p.Z,{colSpan:5},n.createElement(r.Z,{variant:"outlined",onClick:Q},n.createElement(b.Z,null),"\u6dfb\u52a0"))))))),n.createElement(c.ZP,{item:!0,xs:12},t?"\u603b\u989d":"Total price",":",J.items.filter((e=>void 0!==e.productId&&"number"==typeof e.quantity)).map((e=>I.get(e.productId).price*e.quantity)).reduce(((e,t)=>e+t),0)),n.createElement(c.ZP,{item:!0,xs:12},n.createElement(r.Z,{variant:"contained",onClick:K},"\u63d0\u4ea4")))),n.createElement(g.Z,{open:H,onClose:U},n.createElement(x.Z,null,t?"\u4fe1\u606f":"Info"),n.createElement(C.Z,null,n.createElement(Z.Z,null,t?"\u4ec5\u4f5c\u793a\u8303\uff0c\u65e0\u4efb\u4f55\u6548\u679c":"For demonstration only, without any effect")),n.createElement(w.Z,null,n.createElement(r.Z,{onClick:U},"\u5173\u95ed"))))})),B=[{id:1,nickName:"\u76ae\u76ae\u9c81",province:"\u56db\u5ddd",city:"\u6210\u90fd",address:"\u9f99\u6cc9\u9a7f\u533a\u6d2a\u7389\u8def\u4e0e\u5341\u6d2a\u8def\u4ea4\u53c9\u53e3"},{id:2,nickName:"\u9c81\u897f\u897f",province:"\u5e7f\u4e1c",city:"\u5e7f\u5dde",address:"\u767d\u4e91\u533a\u77f3\u6c99\u8def300\u53f7"},{id:3,nickName:"\u8212\u514b",province:"\u897f\u85cf",city:"\u62c9\u8428",address:"\u5806\u9f99\u5fb7\u5e86\u533a"},{id:4,nickName:"\u8d1d\u5854",province:"\u4e0a\u6d77",city:"\u4e0a\u6d77",address:"\u6d66\u4e1c\u65b0\u533a\u79c0\u6cbf\u897f\u8def218\u5f04"}],O=[{id:1,name:"zippo\u591c\u5149\u6d41\u6c99\u6253\u706b\u673a",price:268},{id:2,name:"\u6770\u767b(Jayden)\u5370\u5ea6\u5854\u5e03\u62c9\u9f13",price:9238},{id:3,name:"\u6d6a\u7434(Longines)\u673a\u68b0\u624b\u8868",price:13900},{id:4,name:"viney\u7537\u58eb\u76ae\u5e26",price:139},{id:5,name:"\u96c5\u8bd7\u5170\u9edb\u7ed2\u96fe\u54d1\u5149\u5507\u818f",price:310},{id:6,name:"CIRCUIT\u7537\u5b50\u6ed1\u96ea\u5355\u677f",price:2044},{id:7,name:"\u7279\u4ed1\u82cf\u8131\u8102\u725b\u5976",price:47},{id:8,name:"\u4e50\u9ad8\u79ef\u6728\u5e03\u52a0\u8fea",price:374},{id:9,name:"\u53cc\u559c\u71c3\u6c14\u7535\u78c1\u901a\u7528\u538b\u529b\u9505",price:137},{id:10,name:"\u61a8\u61a8\u5ba0\u732b\u722c\u67b6",price:238}];function N(e){const t=e.items,a=new Map;for(let n=0;n<t.length;n++){const e=t[n];if("number"!=typeof e.quantity)e.quantity=1;else if(e.quantity<1){t.splice(n--,1);continue}if(void 0===e.productId)continue;const l=a.get(e.productId);void 0===l?a.set(e.productId,e):(l.quantity+=e.quantity,t.splice(n--,1))}}},32102:(e,t,a)=>{a.d(t,{s:()=>f});var n=a(83117),l=a(67294),r=a(50657),o=a(42293),i=a(10155),c=a(15861),s=a(6514),m=a(54776),u=a(93946),d=a(9137),p=a(61274),h=a(50594);const f=(0,l.memo)((e=>{let{open:t,fullScreen:a=!1,title:n,onClose:m,children:f}=e;const[y,b]=(0,l.useState)(a),k=(0,l.useCallback)((()=>{b((e=>!e))}),[]);return l.createElement(r.Z,{open:t,onClose:m,fullScreen:y,TransitionComponent:E,maxWidth:"md"},l.createElement(o.Z,{sx:{position:"relative"}},l.createElement(i.Z,null,l.createElement(c.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},n),l.createElement(u.Z,{onClick:k,style:{color:"white"}},y?l.createElement(p.Z,null):l.createElement(d.Z,null)),l.createElement(u.Z,{"aria-label":"close",onClick:m,style:{color:"white"}},l.createElement(h.Z,null)))),l.createElement(s.Z,null,f))})),E=l.forwardRef((function(e,t){return l.createElement(m.Z,(0,n.Z)({direction:"up",ref:t},e))}))},39511:(e,t,a)=>{a.d(t,{b:()=>o});var n=a(83321),l=a(67294),r=a(32102);const o=(0,l.memo)((e=>{let{buttonText:t,fullScreen:a=!1,title:o=t,variant:i="contained",children:c}=e;const[s,m]=(0,l.useState)(!1),u=(0,l.useCallback)((()=>{m(!0)}),[]),d=(0,l.useCallback)((()=>{m(!1)}),[]);return l.createElement(l.Fragment,null,l.createElement(n.Z,{onClick:u,variant:i,size:"outlined"==i?"small":"medium"},t),l.createElement(r.s,{open:s,onClose:d,title:o,fullScreen:a},c))}))},53143:(e,t,a)=>{a.d(t,{S:()=>l});var n=a(52263);function l(){const{i18n:e}=(0,n.Z)(),t=e.currentLocale;return"zh"===t||"zh_cn"===t||"zh_CN"==t}},12169:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>Y,contentTitle:()=>X,default:()=>ae,frontMatter:()=>G,metadata:()=>$,toc:()=>ee});var n=a(83117),l=a(67294),r=a(3905),o=a(39511),i=a(44996),c=a(98164),s=a(34592),m=a(93946),u=a(74005),d=a(62288),p=a(88725),h=a(9137),f=a(61274),E=a(50657),y=a(42293),b=a(10155),k=a(15861),v=a(6514),g=a(11703),w=a(40044),C=a(86886),Z=a(83321),x=a(53143),T=a(13531),S=a(11878),j=a(32102),B=a(82276),O=a(9206),N=a(34249),M=a(68590),I=a(86153);const J=(0,l.memo)((()=>{const[e,t]=(0,l.useState)(!1),a=(0,l.useCallback)((()=>{t(!0)}),[]),n=(0,l.useCallback)((()=>{t(!1)}),[]);return l.createElement(l.Fragment,null,l.createElement(E.Z,{open:e,onClose:n,fullScreen:!0},l.createElement(y.Z,{sx:{position:"relative"}},l.createElement(b.Z,null,l.createElement(k.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div"},"Jimmer Mind Map"),l.createElement(m.Z,{"aria-label":"close",onClick:n,style:{color:"white"}},l.createElement(f.Z,null)))),l.createElement(v.Z,null,l.createElement(D,{maximize:!0}))),l.createElement(D,{maximize:!1,onMaximize:a}))})),D=(0,l.memo)((e=>{let{maximize:t,onMaximize:a}=e;const n=(0,x.S)(),r=(0,i.Z)("docs"),[o,c]=(0,l.useState)(!1),[s,m]=(0,l.useState)(!1),[u,d]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),[f,E]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[k,v]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(!1),[J,D]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(!1),[V,K]=(0,l.useState)(!1),U=(0,l.useCallback)((e=>{switch(e){case"object-fetcher":c(!0);break;case"save-command":m(!0);break;case"long-association":d(!0);break;case"object-cache":h(!0);break;case"association-cache":E(!0);break;case"calculated-cache":b(!0);break;case"multi-view-cache":v(!0);break;case"cache-consistency":Z(!0);break;case"communication":D(!0);break;case"dynamic-join-problem":H(!0);break;case"performance":K(!0);break;default:console.warn("Illegal view name: "+e)}}),[]),W=(0,l.useCallback)((()=>{c(!1)}),[]),G=(0,l.useCallback)((()=>{m(!1)}),[]),X=(0,l.useCallback)((()=>{d(!1)}),[]),$=(0,l.useCallback)((()=>{h(!1)}),[]),Y=(0,l.useCallback)((()=>{E(!1)}),[]),ee=(0,l.useCallback)((()=>{b(!1)}),[]),te=(0,l.useCallback)((()=>{v(!1)}),[]),ae=(0,l.useCallback)((()=>{Z(!1)}),[]),ne=(0,l.useCallback)((()=>{D(!1)}),[]),le=(0,l.useCallback)((()=>{H(!1)}),[]),re=(0,l.useCallback)((()=>{K(!1)}),[]),oe=(0,l.useCallback)((()=>{void 0!==a&&a()}),[a]),[ie,ce]=(0,l.useState)(0),se=(0,l.useCallback)(((e,t)=>{ce(t)}),[]);return l.createElement("div",null,!t&&l.createElement(g.Z,{value:ie,onChange:se},l.createElement(w.Z,{value:0,label:n?"\u8111\u56fe":"Mindmap"}),l.createElement(w.Z,{value:1,label:n?"\u6587\u672c":"Text"})),0===ie&&l.createElement(_,{text:n?q:A,onView:U,baseUrl:r,maximize:t,onMaximizeClick:oe}),1===ie&&l.createElement(z,{text:n?q:A,onView:U,baseUrl:r}),l.createElement(T.C,{open:o,onClose:W}),l.createElement(S.D,{open:s,onClose:G}),l.createElement(j.s,{title:n?"\u590d\u6742\u7684\u8868\u5355\u4fdd\u5b58\u4e1a\u52a1":"Complex form saving business",open:u,onClose:X},l.createElement(I._,null)),l.createElement(j.s,{title:n?"\u5bf9\u8c61\u7f13\u5b58":"Object Cache",open:p,onClose:$},l.createElement("img",{src:P})),l.createElement(j.s,{title:n?"\u5173\u8054\u7f13\u5b58":"Association Cache",open:f,onClose:Y},l.createElement("img",{src:L})),l.createElement(j.s,{title:n?"\u8ba1\u7b97\u7f13\u5b58":"Association Cache",open:y,onClose:ee},l.createElement("img",{src:R})),l.createElement(j.s,{title:n?"\u591a\u89c6\u56fe\u7f13\u5b58":"Multi-view Cache",open:k,onClose:te},l.createElement("img",{src:F})),l.createElement(B.Zq,{open:C,onClose:ae}),l.createElement(M.Qs,{open:J,onClose:ne}),l.createElement(O.Aj,{open:Q,onClose:le}),l.createElement(N.I,{open:V,onClose:re}))})),P=a(59738).Z,L=a(66501).Z,R=a(36701).Z,F=a(80589).Z,q="\n-   Jimmer\n\n    -   \u67e5\u8be2\u4efb\u610f\u5f62\u72b6\u7684\u6570\u636e\u7ed3\u6784 [\ud83d\udc41](#object-fetcher) [\u2192](@site/query/object-fetcher)\n\n        -   GraphQL HTTP\u670d\u52a1\u7684\u80fd\u529b\u88ab\u62d3\u5c55\u6210\u65e0\u5904\u4e0d\u5728\u672c\u5730\u4ee3\u7801\u884c\u4e3a\n\n        -   \u7cbe\u786e\u63a7\u5236\u6bcf\u4e2a\u5c5e\u6027\u662f\u5426\u9700\u8981\u67e5\u8be2\n\n        -   \u53ef\u5bf9\u81ea\u5173\u8054\u5c5e\u6027\u8fdb\u884c\u9012\u5f52\u67e5\u8be2 [\u2192](@site/query/object-fetcher/recursive)\n\n        -   \u7edf\u4e00\u4e0d\u540c\u6570\u636e\u5173\u8054\uff0c\u5bf9\u5f00\u53d1\u8005\u900f\u660e\n\n            -   \u6570\u636e\u5e93\u4e2d\u7684\u5173\u8054 [\u2192](@site/mapping/base/association/)\n\n            -   \u81ea\u5b9a\u4e49\u8ba1\u7b97\u5c5e\u6027 [\u2192](@site/mapping/advanced/calculated/transient#\u5173\u8054\u8ba1\u7b97bookstorenewestbooks)\n\n            -   \u8de8\u8d8a\u5fae\u670d\u52a1\u7684\u8fdc\u7a0b\u5173\u8054 [\u2192](@site/spring/spring-cloud)\n            \n            -   \u4f18\u5148\u8bfb\u53d6\u7f13\u5b58\n\n    -   \u4fdd\u5b58\u4efb\u610f\u6570\u636e\u7ed3\u6784 [\ud83d\udc41](#save-command) [\u2192](@site/mutation/save-command)\n\n        -   \u5feb\u901f\u5f00\u53d1\u4efb\u610f\u590d\u6742\u7684\u8868\u5355\u4fdd\u5b58\u4e1a\u52a1 [\ud83d\udc41](#long-association)\n\n        -   \u5bf9\u540c\u4e00\u4e2a\u805a\u5408\u6839\u7c7b\u578b\u800c\u8a00\uff0c\u591a\u79cd\u4e0d\u540c\u8868\u5355\u683c\u5f0f\u7684\u4fdd\u5b58\u4e1a\u52a1\u53ef\u5e76\u5b58\n\n    -   \u7f13\u5b58\u53ca\u5176\u4e00\u81f4\u6027 [\u2192](@site/cache)\n\n        -   \u4e30\u5bcc\u5e95\u5c42\u7f13\u5b58\u7c7b\u578b\uff0c\u4e0a\u5c42\u62bd\u8c61\u4efb\u610f\u6570\u636e\u7ed3\u6784\n\n            -   \u5bf9\u8c61\u7f13\u5b58 [\ud83d\udc41](#object-cache) [\u2192](@site/cache/cache-type/object)\n\n            -   \u5173\u8054\u7f13\u5b58 [\ud83d\udc41](#association-cache) [\u2192](@site/cache/cache-type/association)\n\n            -   \u8ba1\u7b97\u7f13\u5b58 [\ud83d\udc41](#calculated-cache) [\u2192](@site/cache/cache-type/calculation)\n\n        -   \u81ea\u7531\u63a7\u5236\u5404\u6570\u636e\u662f\u5426\u542f\u7528\u7f13\u5b58\uff0c\u7cbe\u786e\u5230\u5c5e\u6027\n\n        -   \u900f\u660e\u6027\u3002\u5404\u6570\u636e\u662f\u5426\u542f\u7528\u7f13\u5b58\u5bf9\u4ee3\u7801\u65e0\u5f71\u54cd\u3002\u7f13\u5b58\u903b\u8f91\u7834\u574f\u4ee3\u7801\u7b80\u6d01\u6027\u7684\u75db\u82e6\u4e00\u53bb\u4e0d\u590d\u8fd4\n\n        -   \u591a\u7ea7\u7f13\u5b58\u652f\u6301\uff0c\u91c7\u7528\u591a\u5c11\u7ea7\uff0c\u6bcf\u4e00\u7ea7\u91c7\u7528\u4ec0\u4e48\u7f13\u5b58\u6280\u672f\u7531\u7528\u6237\u51b3\u5b9a\n\n        -   \u591a\u89c6\u56fe\u7f13\u5b58\uff0c\u4e0d\u540c\u7528\u6237\u770b\u5230\u4e0d\u540c\u7684\u7f13\u5b58 [\ud83d\udc41](#multi-view-cache) [\u2192](@site/cache/multiview-cache)\n\n        -   \u5f3a\u5927\u7684\u4e00\u81f4\u6027\u3002\u5176\u4e2d\uff0c\u5bf9\u8c61\u7f13\u5b58\u548c\u5173\u8054\u7f13\u5b58\u7684\u4e00\u81f4\u6027\u662f\u5168\u81ea\u52a8\u7684\uff0c\u65e0\u9700\u4efb\u4f55\u5f00\u53d1 [\ud83d\udc41](#cache-consistency) [\u2192](@site/cache/consistency)\n\n    -   \u8ba1\u7b97\u5c5e\u6027 [\u2192](@site/mapping/advanced/calculated/)\n    \n        -   \u8ba1\u7b97\u903b\u8f91\u548cORM\u89e3\u8026\uff0c\u53ef\u4ee5\u5229\u7528\u4e1a\u52a1\u4fe1\u606f(\u5982\u8eab\u4efd\u6743\u9650)\u8ba1\u7b97\uff0c\u5141\u8bb8\u4f7f\u7528\u975eSQL\u6280\u672f\n\n        -   \u4e0d\u4ec5\u53ef\u4ee5\u662f\u6807\u91cf\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u662f\u5173\u8054\u5c5e\u6027\n\n    -   \u8fdc\u7a0b\u5173\u8054 [\u2192](@site/spring/spring-cloud)\n\n        -   \u8de8\u8d8a\u5fae\u670d\u52a1\u7684\u6570\u636e\u5173\u8054\n\n        -   \u5bf9\u5fae\u670d\u52a1\u6cbb\u7406\u6846\u67b6\u4e0d\u505a\u5047\u8bbe\n\n        -   \u5c06\u4e0d\u540c\u5fae\u670d\u52a1\u7684\u5173\u7cfb\u578b\u6a21\u578b\uff0c\u5408\u5e76\u6210\u4e00\u4e2a\u5168\u5c40\u7684\u5173\u7cfb\u6a21\u578b\n\n    -   \u5f3a\u7c7b\u578bSQL DSL\n\n        -   Jimmer\u72ec\u521b\u7684\u9690\u5f0f\u52a8\u6001table join\uff0c\u586b\u8865\u884c\u4e1a\u7a7a\u767d [\ud83d\udc41](#dynamic-join-problem) [\u2192](@site/query/dynamic-join)\n\n        -   \u53ef\u6df7\u5165NativeSQL\u7247\u6bb5\uff0c\u4e0d\u518d\u60e7\u6015\u901a\u7528DSL\u65e0\u6cd5\u4f7f\u7528\u7279\u5b9a\u6570\u636e\u5e93\u7279\u7684\u975e\u901a\u7528\u529f\u80fd [\u2192](@site/query/native-sql)\n\n        -   \u7f16\u8bd1\u65f6\u53d1\u73b0\u95ee\u9898\uff0c\u4e0d\u518d\u60e7\u6015\u91cd\u6784\n\n        -   \u826f\u597d\u7684IDE\u667a\u80fd\u63d0\u793a\uff0c\u6d41\u7545\u5f00\u53d1\n\n    -   \u524d\u540e\u7aef\u514d\u5bf9\u63a5 [\ud83d\udc41](#communication) [\u2192](@site/spring/client)\n\n        -   \u6d88\u9664\u540e\u7aef\u5f00\u53d1\u7684DTO\u7206\u70b8\uff0c\u4ece\u4ee5\u4f20\u7edf\u5f00\u53d1\u65b9\u5f0f(\u5c24\u5176\u662fMyBatis)\u7684\u91cd\u590d\u52b3\u52a8\u4e2d\u89e3\u8131\u51fa\u6765\n\n        -   \u4e3a\u524d\u7aef\u81ea\u52a8\u751f\u6210TypeScript\u4ee3\u7801\uff0c\u5728\u524d\u7aef\u4ee3\u7801\u4e2d\u6062\u590dDTO\u7c7b\u578b\u5b9a\u4e49\uff0c\u8ba9\u6bcf\u4e2a\u4e1a\u52a1\u63a5\u53e3\u90fd\u6709\u7cbe\u786e\u7684\u8fd4\u56de\u7c7b\u578b\u5b9a\u4e49\n\n        -   \u628a\u540e\u7aef\u5f02\u5e38\u6620\u5c04\u4e3a\u524d\u7aef\u53ef\u7406\u89e3\u9519\u8bef\u4fe1\u606f\n\n    -   \u5168\u5c40\u8fc7\u6ee4\u5668 [\u2192](@site/query/global-filter)\n\n        -   \u4e3a\u5b9e\u4f53\u7c7b\u6dfb\u52a0\u8fc7\u6ee4\u6761\u4ef6\uff0c\u81ea\u52a8\u5e94\u7528\u4e8e\u7edd\u5927\u90e8\u5206\u67e5\u8be2\n\n        -   \u5185\u7f6e\u8f6f\u5220\u9664\u8fc7\u6ee4\u5668\u652f\u6301 [\u2192](@site/query/global-filter/logical-deleted)\n\n        -   \u591a\u89c6\u89d2\u7f13\u5b58\uff0c\u8fc7\u6ee4\u5668\u5bfc\u81f4\u4e0d\u540c\u7684\u7528\u6237\u770b\u5230\u4e0d\u540c\u6570\u636e\uff0c\u76f8\u5e94\u5730\uff0c\u4e0d\u540c\u7684\u7528\u6237\u53ef\u770b\u5230\u4e0d\u540c\u7684\u7f13\u5b58 [\ud83d\udc41](#multi-view-cache) [\u2192](@site/cache/multiview-cache)\n\n    -   \u667a\u80fd\u5206\u9875 [\u2192](@site/query/paging)\n\n        -   \u7528\u6237\u7f16\u5199data\u8be2\uff0c\u81ea\u52a8\u751f\u6210count\u67e5\u8be2\uff0c\u5e76\u81ea\u52a8\u4f18\u5316\u53bb\u6389\u975e\u5fc5\u8981table join [\u2192](@site/query/paging/unncessary-join)\n\n        -   \u5982\u679c\u5206\u9875\u67e5\u8be2\u671f\u671b\u7684\u89c2\u5bdf\u533a\u57df\u5728\u5206\u9875\u524d\u6240\u6709\u6570\u636e\u7684\u540e\u534a\u90e8\u5206\uff0c\u8fdb\u884c\u53cd\u6392\u5e8f\u4f18\u5316 [\u2192](@site/query/paging/reverse-sorting)\n\n        -   \u5f53\u9875\u7801\u8fc7\u5927\u65f6\uff0c\u81ea\u52a8\u53d8\u6362\u67e5\u8be2\u65b9\u5f0f [\u2192](@site/query/paging/deep-optimization)\n\n    -   \u6781\u81f4\u6027\u80fd [\ud83d\udc41](#performance) [\u2192](@site/overview/benchmark)\n\n        -   ORM\u672c\u8eab\u7684\u6620\u5c04\u6027\u80fd\u6781\u9ad8\uff0c\u53d1\u6325\u865a\u62df\u7ebf\u7a0b\u7684\u5a01\u529b\n\n        -   \u4e0d\u4f1a\u5982\u4f20\u7edfORM\u4e00\u6837\u88ab\u65b0\u624b\u8bf1\u5bfc\u51fa\u4f4e\u6027\u80fdSQL\n",A="\n-   Jimmer\n\n    -   Query data structure of any shape[\ud83d\udc41](#object-fetcher) [\u2192](@site/query/object-fetcher)\n\n        -   Extend the capabilities of GraphQL HTTP service to behave like local code\n\n        -   Precisely control whether each property needs to be queried\n\n        -   Recursive query for self-associated properties [\u2192](@site/query/object-fetcher/recursive)\n\n        -   Unified handling of different data associations, transparent to developers\n\n            -   Associations in the database [\u2192](@site/mapping/base/association/)\n\n            -   Custom calculated properties [\u2192](@site/mapping/advanced/calculated/transient#\u5173\u8054\u8ba1\u7b97bookstorenewestbooks)\n\n            -   Remote associations across microservices [\u2192](@site/spring/spring-cloud)\n\n            -   Prioritize reading from cache\n\n    -   Save data structure of any shape[\ud83d\udc41](#save-command) [\u2192](@site/mutation/save-command)\n\n        -   Rapidly develop complex form-saving business logic\n\n        -   Multiple different form formats for saving business logic can coexist for the same aggregate root type\n\n    -   Caching and its consistency [\u2192](@site/cache)\n\n        -   Rich variety of underlying cache types, collectively abstracting caching for any data structure\n\n            -   Object cache [\ud83d\udc41](#object-cache) [\u2192](@site/cache/cache-type/object)\n\n            -   Association cache [\ud83d\udc41](#association-cache) [\u2192](@site/cache/cache-type/association)\n\n            -   Calculation cache [\ud83d\udc41](#calculated-cache) [\u2192](@site/cache/cache-type/calculation)\n\n        -   Precisely control whether each property needs to be cached\n\n        -   Transparency. Enabling caching for data has no impact on the code. The pain of cache logic compromising code simplicity is eliminated\n\n        -   Support for multi-level caching, with the number of levels and the caching technology for each level determined by the user\n\n        -   Multi-view caching, where different users see different caches [\ud83d\udc41](#multi-view-cache) [\u2192](@site/cache/multiview-cache)\n\n        -   Powerful consistency. Consistency for object cache and association cache is fully automatic, requiring no development effort [\ud83d\udc41](#cache-consistency) [\u2192](@site/cache/consistency)\n\n    -   Calculated properties [\u2192](@site/mapping/advanced/calculated/)\n\n        -   Decoupling of computation logic and ORM, allowing calculations based on business information (such as identity and permissions) and the use of non-SQL technologies\n\n        -   Can be scalar properties as well as association properties\n\n    -   Remote associations [\u2192](@site/spring/spring-cloud)\n\n        -   Data associations across microservices\n\n        -   No assumptions about the microservice governance framework\n\n        -   Merge relational models from different microservices into a global relational model\n\n    -   Strongly-typed SQL DSL\n\n        -   Jimmer's innovative implicit dynamic table join, filling an industry gap [\ud83d\udc41](#dynamic-join-problem) [\u2192](@site/query/dynamic-join)\n\n        -   NativeSQL fragments can be mixed, no longer fear generic DSLs lacking non-generic functionality specific to certain databases [\u2192](@site/query/native-sql)\n\n        -   Discover issues at compile time, no longer fear refactoring\n\n        -   Excellent IDE smart suggestions for smooth development\n\n    -   No need for frontend-backend integration [\ud83d\udc41](#communication) [\u2192](@site/spring/client)\n\n        -   Eliminate DTO explosion for backend development, freeing from repetitive work using traditional development approaches (especially MyBatis)\n\n        -   Automatically generate TypeScript code for the frontend, restoring DTO type definitions in the frontend code, ensuring precise return type definitions for each business interface\n\n        -   Map backend exceptions to frontend-understandable error messages\n\n    -   Global filters [\u2192](@site/query/global-filter)\n\n        -   Add filtering conditions to entity classes, automatically applied to the majority of queries\n\n        -   Built-in support for soft delete filters\n\n        -   Multi-view caching, where filters result in different data being seen by different users, accordingly, different users can see different caches [\ud83d\udc41](#multi-view-cache) [\u2192](@site/cache/multiview-cache)\n\n    -   Intelligent pagination [\u2192](@site/query/paging)\n\n        -   User writes data query, automatically generates count query, and optimizes unnecessary table joins [\u2192](@site/query/paging/unncessary-join)\n\n        -   If the expected observation area of the pagination query is in the second half of all the data before paging, perform reverse sorting optimization [\u2192](@site/query/paging/reverse-sorting)\n\n        -   Automatically switch query methods when the page number is too large [\u2192](@site/query/paging/deep-optimization)\n\n    -   Ultimate performance [\ud83d\udc41](#performance) [\u2192](@site/overview/benchmark)\n\n        -   ORM mapping performance is extremely high, leveraging the power of virtual threads\n\n        -   Will not suffer from low-performance SQL induced by beginners like traditional ORMs\n",_=(0,l.memo)((e=>{let{text:t,onView:a,baseUrl:n,maximize:r,onMaximizeClick:o}=e;const i=(0,x.S)(),m=(0,l.useRef)(),f=(0,l.useRef)(),E=(0,l.useRef)(),y=(0,l.useMemo)((()=>t.split("@site").join(n)),[i,t,n]);(0,l.useEffect)((()=>{if(null===f.current)return;f.current.addEventListener("wheel",(e=>e.preventDefault()));const e=c.v$.create(f.current,{scrollForPan:!1});return E.current=e,()=>{e.destroy()}}),[f]),(0,l.useEffect)((()=>{const e=E.current;if(!e)return;const{root:t}=(new s.Transformer).transform(y);e.setData(t),e.fit()}),[E.current,y]),(0,l.useEffect)((()=>{null!==m.current&&setTimeout((()=>{const e=m.current.getElementsByTagName("A");for(let t=e.length-1;t>=0;--t){const n=e.item(t),l=n.getAttribute("href");l.startsWith("#")&&(n.style.cursor="pointer",n.removeAttribute("href"),n.addEventListener?n.addEventListener("click",(()=>{a(l.substring(1))})):n.attachEvent("onClick",(()=>{a(l.substring(1))})))}}),0)}),[m.current,a]);const b=(0,l.useCallback)((()=>{E.current.fit()}),[E.current]),k=(0,l.useCallback)((()=>{E.current.rescale(1.25)}),[E.current]),v=(0,l.useCallback)((()=>{E.current.rescale(.8)}),[E.current]);return l.createElement(l.Fragment,null,l.createElement(C.ZP,{container:!0,alignItems:"center"},l.createElement(C.ZP,{item:!0,flex:1}),l.createElement(C.ZP,{item:!0},!r&&l.createElement(Z.Z,{onClick:o,size:"small"},l.createElement(h.Z,null),i?"\u6700\u5927\u5316":"Maximize"),l.createElement(Z.Z,{onClick:b,size:"small"},l.createElement(p.Z,null),i?"\u9002\u5e94\u5f53\u524d\u7a97\u53e3":"Fit current window"),l.createElement(Z.Z,{onClick:k,size:"small"},l.createElement(u.Z,null),i?"\u653e\u5927":"Zoom In"),l.createElement(Z.Z,{onClick:v,size:"small"},l.createElement(d.Z,null),i?"\u7f29\u5c0f":"Zoom Out"))),l.createElement("div",{style:{position:"relative",width:"100%",paddingTop:"56.25%"}},l.createElement("div",{ref:m},l.createElement("svg",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%"},ref:f}))))})),z=(0,l.memo)((e=>{let{text:t,onView:a,baseUrl:n}=e;const r=(0,l.useRef)();return(0,l.useEffect)((()=>{const e=r.current;if(null===e)return;const l=new Q(a,n);for(const a of t.split(/\n/))l.append(a);e.appendChild(l.build())}),[r.current,t]),l.createElement("div",{ref:r})}));class Q{root=document.createElement("UL");list=this.root;item=void 0;depth=1;constructor(e,t){this.onView=e,this.baseUrl=t}append(e){const t=e.indexOf("-");if(t<=0)return;const a=e.substring(0,t);if(-1!==a.indexOf("\t")||t%4!=0)throw new Error(`Illegal input: "${e}"`);const n=a.length/4;if(n>this.depth){for(let e=n-this.depth;e>0;--e){void 0===this.item&&(this.item=document.createElement("LI"),this.list.appendChild(this.item));const e=document.createElement("UL");this.item.appendChild(e),this.list=e,this.item=void 0}this.depth=n}else if(n<this.depth){for(let e=this.depth-n;e>0;--e)this.list=this.list.parentNode.parentNode;this.item,this.depth=n}const l=document.createElement("LI");switch(n){case 1:l.style.fontSize="1.2rem",l.style.fontWeight="bold";break;case 2:l.style.fontSize="1.1rem",l.style.fontWeight="normal";break;default:l.style.fontSize="1rem",l.style.fontWeight="bold"}this.list.appendChild(l),this.item=l,this.appendCore(e.substring(t+1))}appendCore(e){let t=0,a=-1;for(;;){const[n,l,r,o]=this.findLink(e,t);if(-1===n)break;-1===a&&(a=n),t=l+1,this.item.appendChild(document.createTextNode(" ")),this.item.appendChild(this.createLink(r,o))}-1!==a?this.item.insertBefore(document.createTextNode(e.substring(0,a).trim()),this.item.firstChild):this.item.appendChild(document.createTextNode(e))}createLink(e,t){const a=document.createElement("A");return a.appendChild(document.createTextNode(e)),t.startsWith("#")?(a.style.cursor="pointer",a.addEventListener?a.addEventListener("click",(()=>{this.onView(t.substring(1))})):a.attachEvent("onClick",(()=>{this.onView(t.substring(1))}))):a.setAttribute("href",t.replace("@site",this.baseUrl)),a}findLink(e,t){const a=e.indexOf("[",t),n=e.indexOf("]",t);if(-1===a||-1===n||a>n)return[-1,-1,"",""];const l=e.substring(a+1,n),r=e.indexOf("(",n+1),o=e.indexOf(")",n+1);if(-1===r||-1===o||r>o)return[-1,-1,"",""];return[a,o,l,e.substring(r+1,o)]}build(){return this.root}}var H=a(43613),V=a(59738),K=a(66501),U=a(36701),W=a(80589);const G={sidebar_position:1,title:"Project Introduction"},X=void 0,$={unversionedId:"overview/introduction",id:"overview/introduction",title:"Project Introduction",description:"The original low-quality documentation is being completely rewritten and will eventually become high-quality documentation.",source:"@site/docs/overview/introduction.mdx",sourceDirName:"overview",slug:"/overview/introduction",permalink:"/jimmer/docs/overview/introduction",draft:!1,editUrl:"https://github.com/babyfish-ct/jimmer/tree/main/doc/docs/overview/introduction.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Project Introduction"},sidebar:"tutorialSidebar",previous:{title:"What is Jimmer",permalink:"/jimmer/docs/overview/"},next:{title:"Standard example",permalink:"/jimmer/docs/overview/standard-demo"}},Y={},ee=[{value:"Project positioning",id:"project-positioning",level:2},{value:"Pain points",id:"pain-points",level:2},{value:"Revolutionary features",id:"revolutionary-features",level:2},{value:"1. Query arbitrarily shaped data structures",id:"1-query-arbitrarily-shaped-data-structures",level:3},{value:"2. Save arbitrarily shaped data structures",id:"2-save-arbitrarily-shaped-data-structures",level:3},{value:"3. Cache arbitrarily shaped data structures",id:"3-cache-arbitrarily-shaped-data-structures",level:3},{value:"4. Dynamic table joins",id:"4-dynamic-table-joins",level:3},{value:"5. Front-end and back-end docking",id:"5-front-end-and-back-end-docking",level:3},{value:"6. Smart pagination",id:"6-smart-pagination",level:3},{value:"7. Remote association",id:"7-remote-association",level:3},{value:"All function points",id:"all-function-points",level:2}],te={toc:ee};function ae(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},te,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"The original low-quality documentation is being completely rewritten and will eventually become high-quality documentation."),(0,r.kt)("p",{parentName:"admonition"},"However, after several months of hard work, only the Chinese part of the rewriting work has been completed, and the re-translation of the English document has not yet been completed."),(0,r.kt)("p",{parentName:"admonition"},"Now that the translation of English documents has only started, we will speed up the translation process. Before that, you can read ",(0,r.kt)("a",{parentName:"p",href:"../old-en"},"Old english document"))),(0,r.kt)("h2",{id:"project-positioning"},"Project positioning"),(0,r.kt)("p",null,"Jimmer is a revolutionary ORM for Java and Kotlin, and a complete integration solution based on it, including a powerful cache management mechanism."),(0,r.kt)("p",null,"At present, there are many Java-based relational database upper-layer technical solutions, including ORM style and non-ORM style. There are so many such solutions that Jimmer doesn't want to repeat them."),(0,r.kt)("p",null,"In fact, CRUD for the database is only the most basic and simple part of the actual project, and there are other pain points that have always plagued developers, which are more complex and cumbersome than simple CRUD."),(0,r.kt)("p",null,"Jimmer collects most of the common and cumbersome problems in business project development and provides a complete set of comprehensive solutions."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"ORM is just Jimmer's entry point, not the whole story.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"As a systematic solution, Jimmer is not another simple data CRUD solution. However, through deliberate and creative and disruptive design, Jimmer has a very high ",(0,r.kt)("inlineCode",{parentName:"p"},"benefit/cost")," ratio."),(0,r.kt)("p",{parentName:"admonition"},"If the reader has experience with any ORM",(0,r.kt)("em",{parentName:"p"}," (such as JPA)"),", it will be particularly difficult to get started with Jimmer."),(0,r.kt)("p",{parentName:"admonition"},"Whether you have ORM experience or not, after you complete your Jimmer learning journey, you will find that the benefits you have gained are enormous.")),(0,r.kt)("h2",{id:"pain-points"},"Pain points"),(0,r.kt)("p",null,"As mentioned earlier, completing CRUD access to the database is only the most basic and simple part of the actual project, and there are other pain points that have been plaguing developers. Here are some common pain points:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"DTO explosion problem"),(0,r.kt)("p",{parentName:"li"},"Even for the same data type ",(0,r.kt)("em",{parentName:"p"},"(aggregate root)"),", different business functions expect different data formats to be queried, which often leads to project needing to define a large number of DTO types",(0,r.kt)(o.b,{buttonText:"DTO explosion",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:H.Z})),"\u3002"),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The number of DTO types is large, although they are different from each other, they often have a high degree of similarity, and the redundancy is very high."),(0,r.kt)("p",{parentName:"admonition"},"Especially for mobile phone applications, the UI interface is severely fragmented due to the limited screen size, and even for the same data type ",(0,r.kt)("em",{parentName:"p"}," (aggregate root)"),", different UI interfaces will have different emphasis, which further aggravates the situation.")),(0,r.kt)("p",{parentName:"li"},"There are many types of DTO with high redundancy, and just defining these types can already make the system bloated and difficult to maintain. At the business code implementation level, it also makes traditional solutions ",(0,r.kt)("em",{parentName:"p"},"(whether ORM or non-ORM)")," inconvenient to handle, such as:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Traditional ORM schemes represented by JPA/Hibernate"),(0,r.kt)("p",{parentName:"li"},"This type of solution, while convenient, lacks flexibility."),(0,r.kt)("p",{parentName:"li"},"Even considering JPA2.1's ",(0,r.kt)("a",{parentName:"p",href:"https://www.baeldung.com/jpa-entity-graph"},"Entity Graph"),", flexibility is limited, especially if business scenarios only require a part of of the properties of certain entity objects."),(0,r.kt)("p",{parentName:"li"},"Finally, in order to cope with the ever-changing flexibility, especially the flexibility of only a part of the properties of the object, developers often choose to query only a part of the properties of the object and manually convert to DTO types, which will go against the original intention of ORM to pursue convenience and fail to reflect the value of ORM."),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To compensate for the lack of flexibility in traditional ORMs, developers often need to find ways to make some workarounds, which in turn undermine the original purpose of ORM: convenience.")),(0,r.kt)("admonition",{parentName:"li",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This is one of the common arguments against ORM opponents, and there is a right and legitimate side to the view that ORM tried to replace SQL but did not achieve its goal."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Non-ORM schemes represented by MyBatis"),(0,r.kt)("p",{parentName:"li"},"Such methods are flexible, but the problem of duplication of effort is serious."),(0,r.kt)("p",{parentName:"li"},"In such technical solutions, developers often need to define a large number of similar but different 'Result Mappers' in the face of various DTO types of queries, and even some manual data stitching operations when necessary, which represents a very heavy workload."),(0,r.kt)("admonition",{parentName:"li",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This solution has absolute flexibility and control",(0,r.kt)("em",{parentName:"p"}," (it can do very little work for you, many times developers write much code by themselves, of course, it is flexible)"),", but at the cost of a lot of work. The team's R&D capabilities are directly reflected in the size of the number of people and communication costs.")))),(0,r.kt)("admonition",{parentName:"li",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Unleashing the flexibility of ORM through innovation to form a new solution that combines the convenience of ORM with the flexibility of MyBatis is one of Jimmer's core values."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Complex form problem"),(0,r.kt)("p",{parentName:"li"},"Many times, the data structure that the client needs to save is not a flat object, but ",(0,r.kt)(o.b,{buttonText:"data structure with some complexity",variant:"text",mdxType:"ViewMore"},(0,r.kt)(I._,{mdxType:"LongAssociation"})),". It would be tedious for developers to compare the differences between client data structures and existing data and perform appropriate additions, deletions, and modifications."),(0,r.kt)("p",{parentName:"li"},"Therefore, the format of the data structure that different business functions can save for the same aggregate root type should be diversified, and should not be solidified through configuration at the ORM level.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"cache"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Whether to use caching should be absolutely transparent to developers, and the introduction of caching should not increase the complexity of business code, reduce code quality and maintainability, and should be as simple as pure SQL projects.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The cache should not only have the simplest object cache, but also ",(0,r.kt)(o.b,{buttonText:"Association cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:K.Z}))," and ",(0,r.kt)(o.b,{buttonText:"Computational cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:U.Z})))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The global filtering capability represented by the permission system often allows different users to see different data, so it should also be ",(0,r.kt)(o.b,{buttonText:"Let different users see different caches",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:W.Z})))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The most troublesome problem of cache consistency maintenance ",(0,r.kt)(o.b,{buttonText:"should be solved by the underlying solution",title:"Automatic cache consistency",variant:"text",mdxType:"ViewMore"},(0,r.kt)(B.x7,{mdxType:"CacheConsistencyPanel"})),", as fully automated as possible, rather than penetrating into the business code and solved by the developer.")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The client is automatically docked"),(0,r.kt)("p",{parentName:"li"},"The server-side service should automatically generate client-side code (such as TypeScript) for the client (such as a web frontend)."),(0,r.kt)("p",{parentName:"li"},"The server side is the producer, and developers want to see a simplified API and programming model because it means less work to implement; Clients are consumers, and developers want to see the full API and programming model because it means they're comfortable using themselves. The traditional approach of making the server-side and client-side APIs and programming models exactly the same needs to be changed.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Microservice data stitching"))),(0,r.kt)("p",null,"In a microservices system, databases are fragmented. Querying different parts of data from different microservices and then stitching them back as a whole is cumbersome and high-frequency, and should be hidden and automated by the underlying solution."),(0,r.kt)("h2",{id:"revolutionary-features"},"Revolutionary features"),(0,r.kt)("p",null,"To solve these pain points, Jimmer offers a lot of disruptive features."),(0,r.kt)("h3",{id:"1-query-arbitrarily-shaped-data-structures"},"1. Query arbitrarily shaped data structures"),(0,r.kt)("p",null,"The flexibility of GraphQL which must be accessed remotely via HTTP to gain , has become a ubiquitous universal local code behavior, which can be considered as the GraphQLization of ORM."),(0,r.kt)("p",null,"This feature also addresses a drawback of GraphQL: it does not support recursive queries for self-associated properties."),(0,r.kt)(T.H,{mdxType:"ObjectFetcher"}),"\xa0",(0,r.kt)(Z.Z,{href:"../query/object-fetcher",size:"small",variant:"outlined",mdxType:"Button"}," go and see"),(0,r.kt)("h3",{id:"2-save-arbitrarily-shaped-data-structures"},"2. Save arbitrarily shaped data structures"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The shape of the saved data structure should be made by the developer at will, rather than using a fixed configuration on the entity as in a traditional ORM ",(0,r.kt)("em",{parentName:"p"}," (e.g. the cascade parameter of the '@OneToMany' annotation in JPA)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"It should be like ",(0,r.kt)("a",{href:"https://react.dev/learn"},"React")," or ",(0,r.kt)("a",{href:"https://vuejs.org/"},"Vue")," in the web domain, the developer can give the data structure to cover, and the framework will find the 'DIFF' and perform the SQL operation."))),(0,r.kt)(S.V,{mdxType:"SaveCommand"}),"\xa0",(0,r.kt)(Z.Z,{href:"../mutation/save-command",size:"small",variant:"outlined",mdxType:"Button"}," go and take a look"),(0,r.kt)("h3",{id:"3-cache-arbitrarily-shaped-data-structures"},"3. Cache arbitrarily shaped data structures"),(0,r.kt)("p",null,"This is a very important feature of Jimmer, whose caching mechanism is very powerful and completely transparent to business code."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"In my long-term experience in technical management, I have found that most development teams ensure the simplicity and maintainability of code for database-only projects. However, once the caching system was introduced, the maintainability of the project decreased dramatically."),(0,r.kt)("p",{parentName:"admonition"},"Therefore, Jimmer introduced this set of cache management mechanism that is both powerful and zero-intruding on business code, while fully enjoying the caching mechanism, making business code as simple as simple and easy to maintain as database-only projects.")),(0,r.kt)("p",null,"This caching mechanism supports the following important concepts"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)(o.b,{buttonText:"Object Cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:V.Z})),"\u3001",(0,r.kt)(o.b,{buttonText:"Association Cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:K.Z}))," and ",(0,r.kt)(o.b,{buttonText:"Computational Cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:U.Z}))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)(o.b,{buttonText:"MultiView Cache",variant:"text",mdxType:"ViewMore"},(0,r.kt)("img",{src:W.Z})),", different users see different caches, often in combination with permission systems"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)(o.b,{buttonText:"Automatically maintain cache coherency",variant:"text",mdxType:"ViewMore"},(0,r.kt)(B.x7,{mdxType:"CacheConsistencyPanel"})))),(0,r.kt)(Z.Z,{href:"../cache",size:"small",variant:"outlined",mdxType:"Button"}," go and take a look"),(0,r.kt)("h3",{id:"4-dynamic-table-joins"},"4. Dynamic table joins"),(0,r.kt)("p",null,"Jimmer's DSL is not a mechanical translation of SQL, and its original 'dynamic table joining' fills a gap in the industry, no matter how complex the dynamic query can be easily written."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The lack of 'dynamic table connection' is a gap in the industry and the reason that the Jimmer project was created")),(0,r.kt)(o.b,{buttonText:"Brief understanding",title:"Problems with missing dynamic table joins",variant:"outlined",mdxType:"ViewMore"},(0,r.kt)(O.vZ,{mdxType:"DynamicJoinProblemPanel"})),"\xa0",(0,r.kt)(Z.Z,{href:"../query/dynamic-join",size:"small",variant:"outlined",mdxType:"Button"},"Go check it out"),(0,r.kt)("h3",{id:"5-front-end-and-back-end-docking"},"5. Front-end and back-end docking"),(0,r.kt)("p",null,"For REST services, client code (such as TypeScript) is generated for the client (such as a web frontend)."),(0,r.kt)("p",null,"Note that unlike other technical solutions that automatically generate client-side code, the programming models of the server and the client are different."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"As the producer, the programming model of the server side has been simplified ",(0,r.kt)("em",{parentName:"p"},"(eliminating the DTO explosion)"),", which greatly reduces the implementation cost")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The client, as a consumer, adopts a complete programming model ",(0,r.kt)("em",{parentName:"p"},"(reproducing the DTO explosion)")," and has a good development experience to use"))),(0,r.kt)("p",null,"In this way, both the server and the client get the programming model that best suits them"),(0,r.kt)(M.gy,{mdxType:"Communication"}),"\xa0",(0,r.kt)(Z.Z,{href:"../spring/client",size:"small",variant:"outlined",mdxType:"Button"},"go and see"),(0,r.kt)("h3",{id:"6-smart-pagination"},"6. Smart pagination"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Extremely simple")),(0,r.kt)("p",null,"Developers only need to write queries that query all data before paging, and queries that query the total number of rows of data and query page data will be automatically generated. So, Jimmer's paginated queries will make you feel easier than ever."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Fully optimized")),(0,r.kt)("p",null,"Jimmer fully optimizes paginated queries at the SQL level"),(0,r.kt)(Z.Z,{href:"../query/paging",size:"small",variant:"outlined",mdxType:"Button"}," go to see"),(0,r.kt)("h3",{id:"7-remote-association"},"7. Remote association"),(0,r.kt)("p",null,"In a microservices system, databases are fragmented. Querying different parts of data from different microservices and then stitching them back as a whole is cumbersome and high-frequency, and should be hidden and automated by the underlying solution."),(0,r.kt)(Z.Z,{href:"../spring/spring-cloud",size:"small",variant:"outlined",mdxType:"Button"}," go and take a look"),(0,r.kt)("h2",{id:"all-function-points"},"All function points"),(0,r.kt)(J,{initialExpandLevel:1,mdxType:"MindMap"}),(0,r.kt)("p",null,"Scenario analogy\nJimmer is a comprehensive solution with a lot of great features. Some of these features are original to Jimmer, and some are similar to some other technical systems, which can be understood by analogy to help users with relevant experience understand."),(0,r.kt)("p",null,"The features that can be compared with other similar technical systems are:"),(0,r.kt)("table",null,(0,r.kt)("thead",null,(0,r.kt)("tr",null,(0,r.kt)("th",null,"Jimmer Feature Point"),(0,r.kt)("th",null,"Similar Solutions"),(0,r.kt)("th",null,"Necessary Explanation"))),(0,r.kt)("tbody",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,"Query arbitrary shaped data structures"),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://graphql.org/)"},"GraphQL")),(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Unlike GraphQL, which serves as a protocol for HTTP interface exposure, Jimmer extends this capability to APIs of an ORM, which can be called locally everywhere. ",(0,r.kt)("em",{parentName:"p"},"(Of course, you can also choose to use Jimmer's ability to quickly expose GraphQL)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Jimmer can perform recursive queries on self associated properties"))))),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../mutation/save-command"},"Save arbitrary shaped data structures"))),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://react.dev/learn"},"React"),"\u6216",(0,r.kt)("a",{href:"https://vuejs.org/"},"Vue"),"\u7684Virtual DOM diff"),(0,r.kt)("td",null,(0,r.kt)("p",null,"There are essential differences between the Save directive and the save approach of other ORM frameworks."),(0,r.kt)("p",null,"Taking JPA/Hibernate as an example, whether a scalar property of an object need to be saved is controlled by ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#insertable--"},"Column.insertable")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/Column.html#updatable--"},"Column. updatable"),",\nWhether an association property needs to be saved is controlled by ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToOne.html#cascade--"},"OneToOne.cascade"),", ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToOne.html#cascade--"},"ManyToOne. cascade"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/OneToMany.html#cascade--"},"OneToMany.cascade")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javaee/7/api/javax/persistence/ManyToMany.html#cascade--"},"ManyToMany.cascade"),". However, no matter how the developer configures it, the shape of the data structure that JPA/Hibernate can save for you is fixed."),(0,r.kt)("p",null,"Jimmer takes a completely different approach, and the saved Jimmer object has ","[dynamic]","(.. /object/dynamic), the properties that are set are saved, while properties that are not set are ignored, so that arbitrarily shaped data structures can be saved."))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Entity object calculated properties"),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://github.com/graphql/dataloader"},"DataLoader")),(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Calculated properties do not have the ",(0,r.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/97197/what-is-the-n1-selects-problem-in-orm-object-relational-mapping"},"N + 1")," problem")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Calculation logic is decoupled from ORM, and business information (such as identity permissions) can be used for calculation, allowing the use of non-SQL technology"))))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Entity object remote associations"),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://www.apollographql.com/docs/federation/"},"Apollo Federation")),(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Aassociation across microservices, where the entities on both ends of the association belong to different microservices (that also means they belong to different databases).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If the shape of the data structure being queried includes remote associations, cross-service data access will be automatically completed using HTTP request, which is transparent to developers.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Combine the relational models of different microservices into a global relational model."))))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Intra-transaction trigger"),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://seata.io/en-us/docs/dev/mode/at-mode.html"},"Seata's AT mode")),(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Similarities: Inject additional query SQL when modifying the database to capture database changes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The difference: Unlike seata which will perform more operations, jimmer intra-transaction triggers only send events to notify users; in addition, there is no need to proxy JDBC connection pool like ",(0,r.kt)("a",{parentName:"p",href:"https://seata.io/en-us/docs/dev/mode/at-mode.html"},"Seata's AT mode"),"."))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If conditions permit, binlog triggers should be used in preference to Intra-transaction triggers")))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Immutable objects"),(0,r.kt)("td",null,(0,r.kt)("a",{href:"https://github.com/immerjs/immer"},"immer")),(0,r.kt)("td",null,(0,r.kt)("p",null,"Unlike traditional ORM, all entity objects in Jimmer are immutable objects."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This is very important. If mutable objects are used as entity objects, it actually condones developers to arbitrarily construct ",(0,r.kt)("inlineCode",{parentName:"p"},"circular references"),", which will be a problem with endless consequences. ")),(0,r.kt)("p",null,"Unfortunately, the Java record and ",(0,r.kt)("inlineCode",{parentName:"p"},"copy()")," function of Kotlin data class is designed for simple immutable objects, and it is difficult to handle complex deep immutable object copying and construction in a concise manner, and deep and complex data structures are exactly what the ORM framework has to face."),(0,r.kt)("p",null,"Therefore, Jimmer has ported ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/immerjs/immer"},"immer")," for Java/Kotlin. This is a powerful immutable object solution. This framework is named Jimmer, paying tribute to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/immerjs/immer"},"immer"),"."))))))}ae.isMDXComponent=!0},66501:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/association-cache-a56183bba7a369821e88cbfb277c9464.png"},36701:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/calculated-cache-fed29948e1b2f8fb93bf45851e5668b3.png"},94233:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/consistency-533dc48b0d9b3500ad8b64960045b6da.jpg"},43613:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dto-explosion-6378b16724c3f56c64ffdb8d0131f9c8.png"},80589:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/multi-view-cache-76f3c4c61bce71a30c72922f931a641f.png"},59738:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/object-cache-4a9d5b4cb61322890552a5508785c18c.jpeg"},20778:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/save-6631bb52e10864ffe98320a913473282.png"},98614:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/medias/java-fetcher-a47c6f710d4cc259e540c4a5909ae021.mp4"},67714:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/medias/kotlin-fetcher-b8ddc7a4ad25644d36d580ac726ec13f.mp4"}}]);